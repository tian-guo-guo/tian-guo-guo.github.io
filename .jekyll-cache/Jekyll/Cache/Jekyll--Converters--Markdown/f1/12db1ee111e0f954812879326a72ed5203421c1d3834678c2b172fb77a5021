I"Ÿ<h1 id="pythonå®ç°åŒå‘é“¾è¡¨">Pythonå®ç°åŒå‘é“¾è¡¨</h1>

<h2 id="åŒå‘é“¾è¡¨">åŒå‘é“¾è¡¨</h2>

<p>åŒå‘é“¾è¡¨ä¹Ÿå«åŒé“¾è¡¨ï¼Œæ˜¯é“¾è¡¨çš„ä¸€ç§ï¼Œå®ƒçš„æ¯ä¸ªæ•°æ®ç»“ç‚¹ä¸­éƒ½æœ‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘ç›´æ¥åç»§å’Œç›´æ¥å‰é©±ã€‚æ‰€ä»¥ï¼Œä»åŒå‘é“¾è¡¨ä¸­çš„ä»»æ„ä¸€ä¸ªç»“ç‚¹å¼€å§‹ï¼Œéƒ½å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è®¿é—®å®ƒçš„å‰é©±ç»“ç‚¹å’Œåç»§ç»“ç‚¹ã€‚</p>

<h2 id="åŒå‘é“¾è¡¨åŸºæœ¬æ–¹æ³•å®ç°python">åŒå‘é“¾è¡¨åŸºæœ¬æ–¹æ³•å®ç°ï¼ˆPythonï¼‰</h2>

<h3 id="1-åˆå§‹åŒ–é“¾è¡¨">1. åˆå§‹åŒ–é“¾è¡¨</h3>

<p>å®šä¹‰èŠ‚ç‚¹ç»“æ„ï¼šæŒ‡é’ˆåŸŸpreã€nextå’Œæ•°æ®åŸŸdata
ä¸ºæ–¹ä¾¿æ“ä½œæ·»åŠ äº†headå’ŒtailèŠ‚ç‚¹ï¼Œåˆå§‹åŒ–æ—¶head.nextâ€“&gt;tail,tail.preâ€“&gt;next</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"""èŠ‚ç‚¹ç±»"""
class Node(object):
    def __init__(self, data=None):
        self.data = data
        self.pre = None
        self.next = None

"""åˆå§‹åŒ–åŒå‘é“¾è¡¨"""

def __init__(self):
    """
    è®¾ç½®å¤´å°¾ï¼Œæ“ä½œæ¯”è¾ƒå®¹æ˜“
    å¤´ï¼ï¼ï¼ˆnextï¼‰ï¼ï¼ã€‹å°¾
    å°¾ï¼ï¼ï¼ˆpreï¼‰ï¼ï¼ã€‹å¤´
    :return:
    """
    head = Node()
    tail = Node()
    self.head = head
    self.tail = tail
    self.head.next = self.tail
    self.tail.pre = self.head12345678910111213141516171819202122
</code></pre></div></div>

<p><img src="https://img-blog.csdn.net/20151120150312185" alt="åˆå§‹åŒ–" /></p>

<h3 id="2-è·å–é“¾è¡¨é•¿åº¦">2. è·å–é“¾è¡¨é•¿åº¦</h3>

<p>èµ·å§‹headï¼Œæ¯æœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œlengthï¼‹1</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"""è·å–é“¾è¡¨é•¿åº¦"""

def __len__(self):
    length = 0
    node = self.head
    while node.next != self.tail:
        length += 1
        node = node.next
    return length123456789
</code></pre></div></div>

<h3 id="3-è¿½åŠ èŠ‚ç‚¹">3. è¿½åŠ èŠ‚ç‚¹</h3>

<p>å› ä¸ºæœ‰tail èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ‰¾åˆ°tail.pre èŠ‚ç‚¹å°±å¥½äº†</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"""è¿½åŠ èŠ‚ç‚¹"""

def append(self, data):
    """
    :param data:
    :return:
    """
    node = Node(data)
    pre = self.tail.pre
    pre.next = node
    node.pre = pre
    self.tail.pre = node
    node.next = self.tail
    return node1234567891011121314
</code></pre></div></div>

<p><img src="https://img-blog.csdn.net/20151120150212210" alt="è¿½åŠ èŠ‚ç‚¹" /></p>

<h3 id="4-è·å–èŠ‚ç‚¹">4. è·å–èŠ‚ç‚¹</h3>

<p>è·å–èŠ‚ç‚¹è¦åˆ¤æ–­indexæ­£è´Ÿå€¼</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> """è·å–èŠ‚ç‚¹"""
def get(self, index):
    """
    è·å–ç¬¬indexä¸ªå€¼ï¼Œè‹¥index&gt;0æ­£å‘è·å–else åå‘è·å–
    :param index:
    :return:
    """
    length = len(self)
    index = index if index &gt;= 0 else length + index
    if index &gt;= length or index &lt; 0: return None
    node = self.head.next
    while index:
        node = node.next
        index -= 1
    return node123456789101112131415
</code></pre></div></div>

<h3 id="5-è®¾ç½®èŠ‚ç‚¹">5. è®¾ç½®èŠ‚ç‚¹</h3>

<p>æ‰¾åˆ°å½“å‰èŠ‚ç‚¹èµ‹å€¼å³å¯</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"""è®¾ç½®èŠ‚ç‚¹"""

def set(self, index, data):
    node = self.get(index)
    if node:
        node.data = data
    return node1234567
</code></pre></div></div>

<h3 id="6-æ’å…¥èŠ‚ç‚¹">6. æ’å…¥èŠ‚ç‚¹</h3>

<p>æ’å…¥èŠ‚ç‚¹éœ€è¦æ‰¾åˆ°æ’å…¥èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹pre_nodeå’Œåä¸€ä¸ªèŠ‚ç‚¹next_nodeï¼ˆç´¢å¼•indexçš„æ­£è´Ÿï¼Œå‰ä¸€èŠ‚ç‚¹ä¸åŒï¼Œéœ€è¦åˆ¤æ–­ä¸€ä¸‹ï¼‰ï¼Œç„¶åå°†pre_node.nextâ€“&gt;node,node.pre-&gt;pre_node;next_node.preâ€“&gt;node,node.nextâ€“&gt;next_node</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"""æ’å…¥èŠ‚ç‚¹"""

def insert(self, index, data):
    """
    å› ä¸ºåŠ äº†å¤´å°¾èŠ‚ç‚¹æ‰€ä»¥è·å–èŠ‚ç‚¹nodeå°±ä¸€å®šå­˜åœ¨node.next å’Œ node.pre
    :param index:
    :param data:
    :return:
    """
    length = len(self)
    if abs(index + 1) &gt; length:
        return False
    index = index if index &gt;= 0 else index + 1 + length

    next_node = self.get(index)
    if next_node:
        node = Node(data)
        pre_node = next_node.pre
        pre_node.next = node
        node.pre = pre_node
        node.next = next_node
        next_node.pre = node
        return node
123456789101112131415161718192021222324
</code></pre></div></div>

<p><img src="https://img-blog.csdn.net/20151120150250201" alt="æ’å…¥èŠ‚ç‚¹" /></p>

<h3 id="7-åˆ é™¤èŠ‚ç‚¹">7. åˆ é™¤èŠ‚ç‚¹</h3>

<p>åˆ é™¤èŠ‚ç‚¹ï¼Œä¹Ÿè¦åŒºåˆ†ä¸€ä¸‹ç´¢å¼•çš„æ­£è´Ÿã€‚æ‰¾åˆ°å½“å‰èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹pre_nodeå’Œåä¸€ä¸ªèŠ‚ç‚¹next_nodeï¼Œå°†pre_node.nexâ€“&gt;next_nodeå³å¯</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"""åˆ é™¤èŠ‚ç‚¹"""

def delete(self, index):
    node = self.get(index)
    if node:
        node.pre.next = node.next
        node.next.pre = node.pre
        return True

    return False12345678910
</code></pre></div></div>

<p><img src="https://img-blog.csdn.net/20151120150227911" alt="åˆ é™¤èŠ‚ç‚¹" /></p>

<h3 id="8-åè½¬é“¾è¡¨">8. åè½¬é“¾è¡¨</h3>

<p>åè½¬é“¾è¡¨çš„å®ç°æœ‰å¤šç§æ–¹å¼ï¼Œæ¯”è¾ƒç®€å•çš„å°±æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°çš„é“¾è¡¨ï¼ï¼ã€‹å¯ä»¥ç”¨æ•°ç»„å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹è®©åå€’åºç”Ÿæˆæ–°çš„é“¾è¡¨
åœ¨è¿™é‡Œç”¨ä¸‹é¢è¿™ç§æ–¹å¼ç”Ÿäº§ï¼š
å¯èƒ½æœ‰ç‚¹ç»•
1.node.next â€“&gt; node.preï¼›node.pre â€“&gt; node.nextï¼ˆé€’å½’ï¼‰
2.head.next â€“&gt; Noneï¼›tail.pre â€“&gt; None
3.headâ€“&gt;tailï¼›tailâ€“&gt;head</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"""åè½¬é“¾è¡¨"""
def __reversed__(self):
    """
    1.node.next --&gt; node.pre
      node.pre --&gt; node.next
    2.head.next --&gt; None
      tail.pre --&gt; None
    3.head--&gt;tail
     tail--&gt;head
    :return:
    """
    pre_head = self.head
    tail = self.tail

    def reverse(pre_node, node):
        if node:
            next_node = node.next
            node.next = pre_node
            pre_node.pre = node
            if pre_node is self.head:
                pre_node.next = None
            if node is self.tail:
                node.pre = None
            return reverse(node, next_node)
        else:
            self.head = tail
            self.tail = pre_head

    return reverse(self.head, self.head.next)1234567891011121314151617181920212223242526272829
</code></pre></div></div>

<p><img src="https://img-blog.csdn.net/20151120150238050" alt="åè½¬é“¾è¡¨" /></p>

<h3 id="9-æ¸…ç©ºé“¾è¡¨">9. æ¸…ç©ºé“¾è¡¨</h3>

<p>ç±»ä¼¼åˆå§‹åŒ–</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"""æ¸…ç©ºé“¾è¡¨"""
def clear(self):
    self.head.next = self.tail
    self.tail.pre = self.head1234
</code></pre></div></div>

<p><img src="https://img-blog.csdn.net/20151120150303687" alt="æ¸…ç©ºé“¾è¡¨" /></p>

<p>git è·¯å¾„ https://github.com/wangpanjun/datastructure.git</p>

:ET