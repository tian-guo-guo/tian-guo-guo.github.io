I"‘<h1 id="javascriptçš„settimeoutç”¨æ³•æ€»ç»“jsçš„settimeoutæ–¹æ³•"><a href="https://tech.meituan.com/2018/09/27/fe-security.html">javascriptçš„setTimeout()ç”¨æ³•æ€»ç»“ï¼Œjsçš„setTimeout()æ–¹æ³•</a></h1>

<h2 id="å¼•å­">å¼•å­</h2>

<p>jsçš„setTimeoutæ–¹æ³•ç”¨å¤„æ¯”è¾ƒå¤šï¼Œé€šå¸¸ç”¨åœ¨é¡µé¢åˆ·æ–°äº†ã€å»¶è¿Ÿæ‰§è¡Œäº†ç­‰ç­‰ã€‚ä½†æ˜¯å¾ˆå¤šjavascriptæ–°æ‰‹å¯¹setTimeoutçš„ç”¨æ³•è¿˜æ˜¯ä¸æ˜¯å¾ˆäº†è§£ã€‚è™½ç„¶æˆ‘å­¦ä¹ å’Œåº”ç”¨javascriptå·²ç»ä¸¤å¹´å¤šäº†ï¼Œä½†æ˜¯å¯¹setTimeoutæ–¹æ³•ï¼Œæœ‰æ—¶å€™ä¹Ÿè¦æŸ¥é˜…èµ„æ–™ã€‚ä»Šå¤©å¯¹jsçš„setTimeoutæ–¹æ³•åšä¸€ä¸ªç³»ç»Ÿåœ°æ€»ç»“ã€‚</p>

<h2 id="setintervalä¸settimeoutçš„åŒºåˆ«">setIntervalä¸setTimeoutçš„åŒºåˆ«</h2>

<p>è¯´é“setTimeoutï¼Œå¾ˆå®¹æ˜“å°±ä¼šæƒ³åˆ°setIntervalï¼Œå› ä¸ºè¿™ä¸¤ä¸ªç”¨æ³•å·®ä¸å¤šï¼Œä½†æ˜¯åˆæœ‰åŒºåˆ«ï¼Œä»Šå¤©ä¸€èµ·æ€»ç»“äº†å§ï¼</p>

<h3 id="settimeout">setTimeout</h3>

<p><strong>å®šä¹‰å’Œç”¨æ³•:</strong> setTimeout()æ–¹æ³•ç”¨äºåœ¨æŒ‡å®šçš„æ¯«ç§’æ•°åè°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ã€‚ã€€ã€€</p>

<p><strong>è¯­æ³•:</strong> setTimeout(code,millisec) ã€€</p>

<p><strong>å‚æ•°ï¼š</strong> code ï¼ˆå¿…éœ€ï¼‰ï¼šè¦è°ƒç”¨çš„å‡½æ•°åè¦æ‰§è¡Œçš„ JavaScript ä»£ç ä¸²ã€‚millisecï¼ˆå¿…éœ€ï¼‰ï¼šåœ¨æ‰§è¡Œä»£ç å‰éœ€ç­‰å¾…çš„æ¯«ç§’æ•°ã€‚ ã€€ <strong>æç¤ºï¼š</strong> setTimeout() åªæ‰§è¡Œ code ä¸€æ¬¡ã€‚å¦‚æœè¦å¤šæ¬¡è°ƒç”¨ï¼Œè¯·ä½¿ç”¨ setInterval() æˆ–è€…è®© code è‡ªèº«å†æ¬¡è°ƒç”¨ setTimeout()ã€‚</p>

<h3 id="setinterval">setInterval</h3>

<p>setInterval() æ–¹æ³•å¯æŒ‰ç…§æŒ‡å®šçš„å‘¨æœŸï¼ˆä»¥æ¯«ç§’è®¡ï¼‰æ¥è°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ã€‚</p>

<p>setInterval() æ–¹æ³•ä¼šä¸åœåœ°è°ƒç”¨å‡½æ•°ï¼Œç›´åˆ° clearInterval() è¢«è°ƒç”¨æˆ–çª—å£è¢«å…³é—­ã€‚ç”± setInterval() è¿”å›çš„ ID å€¼å¯ç”¨ä½œ clearInterval() æ–¹æ³•çš„å‚æ•°ã€‚</p>

<p><strong>è¯­æ³•:</strong> setInterval(code,millisec[,â€langâ€])</p>

<p><strong>å‚æ•°:</strong> code å¿…éœ€ã€‚è¦è°ƒç”¨çš„å‡½æ•°æˆ–è¦æ‰§è¡Œçš„ä»£ç ä¸²ã€‚millisec å¿…é¡»ã€‚å‘¨æœŸæ€§æ‰§è¡Œæˆ–è°ƒç”¨ code ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œä»¥æ¯«ç§’è®¡ã€‚</p>

<p><strong>è¿”å›å€¼:</strong> ä¸€ä¸ªå¯ä»¥ä¼ é€’ç»™ Window.clearInterval() ä»è€Œå–æ¶ˆå¯¹ code çš„å‘¨æœŸæ€§æ‰§è¡Œçš„å€¼ã€‚</p>

<h3 id="åŒºåˆ«">åŒºåˆ«</h3>

<p>é€šè¿‡ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼ŒsetTimeoutå’Œsetintervalçš„æœ€ä¸»è¦åŒºåˆ«æ˜¯ï¼š</p>

<p>setTimeoutåªè¿è¡Œä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´è®¾å®šçš„æ—¶é—´åˆ°åå°±è§¦å‘è¿è¡ŒæŒ‡å®šä»£ç ï¼Œè¿è¡Œå®Œåå³ç»“æŸã€‚å¦‚æœè¿è¡Œçš„ä»£ç ä¸­å†æ¬¡è¿è¡ŒåŒæ ·çš„setTimeoutå‘½ä»¤ï¼Œåˆ™å¯å¾ªç¯è¿è¡Œã€‚ï¼ˆå³ è¦å¾ªç¯è¿è¡Œï¼Œéœ€å‡½æ•°è‡ªèº«å†æ¬¡è°ƒç”¨ setTimeout()ï¼‰</p>

<p>è€Œ setintervalæ˜¯å¾ªç¯è¿è¡Œçš„ï¼Œå³æ¯åˆ°è®¾å®šæ—¶é—´é—´éš”å°±è§¦å‘æŒ‡å®šä»£ç ã€‚è¿™æ˜¯çœŸæ­£çš„å®šæ—¶å™¨ã€‚</p>

<p>setintervalä½¿ç”¨ç®€å•ï¼Œè€ŒsetTimeoutåˆ™æ¯”è¾ƒçµæ´»ï¼Œå¯ä»¥éšæ—¶é€€å‡ºå¾ªç¯ï¼Œè€Œä¸”å¯ä»¥è®¾ç½®ä¸ºæŒ‰ä¸å›ºå®šçš„æ—¶é—´é—´éš”æ¥è¿è¡Œï¼Œæ¯”å¦‚ç¬¬ä¸€æ¬¡1ç§’ï¼Œç¬¬äºŒæ¬¡2ç§’ï¼Œç¬¬ä¸‰æ¬¡3ç§’ã€‚</p>

<p>æˆ‘ä¸ªäººè€Œè¨€ï¼Œæ›´å–œæ¬¢ç”¨setTimeoutå¤šä¸€äº›ï¼</p>

<h2 id="settimeoutçš„ç”¨æ³•">setTimeoutçš„ç”¨æ³•</h2>

<p><strong>è®©æˆ‘ä»¬ä¸€èµ·æ¥è¿è¡Œä¸€ä¸ªæ¡ˆä¾‹ï¼Œé¦–å…ˆæ‰“å¼€è®°äº‹æœ¬ï¼Œå°†ä¸‹é¢ä»£ç è´´å…¥ï¼Œè¿è¡Œä¸€ä¸‹æ•ˆæœï¼</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt; &lt;font color=blue&gt; haoroomsåšå®¢ç¤ºèŒƒç½‘é¡µ &lt;/font&gt; &lt;/h1&gt;
&lt;p&gt; è¯·ç­‰ä¸‰ç§’!&lt;/p&gt;

&lt;script&gt;
setTimeout("alert('å¯¹ä¸èµ·, haoroomsåšå®¢è¦ä½ ç­‰å€™å¤šæ—¶')", 3000 )
&lt;/script&gt;

&lt;/body&gt; 
&lt;/html&gt;
</code></pre></div></div>

<p>é¡µé¢ä¼šåœ¨åœç•™ä¸‰ç§’ä¹‹åå¼¹å‡ºå¯¹ç”»æ¡†ï¼è¿™ä¸ªæ¡ˆä¾‹åº”ç”¨äº†setTimeoutæœ€åŸºæœ¬çš„è¯­æ³•ï¼ŒsetTimeoutä¸ä¼šè‡ªåŠ¨é‡å¤æ‰§è¡Œï¼</p>

<p><strong>setTimeoutä¹Ÿå¯ä»¥æ‰§è¡Œfunctionï¼Œè¿˜å¯ä»¥ä¸æ–­é‡å¤æ‰§è¡Œï¼æˆ‘ä»¬å†æ¥ä¸€èµ·åšä¸€ä¸ªæ¡ˆä¾‹ï¼š</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;script&gt;
var x = 0
function countSecond()
{
   x = x+1
ã€€ document.haorooms.haoroomsinput.value=x
ã€€ setTimeout("countSecond()", 1000)
}
&lt;/script&gt;
&lt;/head&gt;
&lt;html&gt;
&lt;body&gt;

&lt;form name="haorooms"&gt;
   &lt;input type="text" name="haoroomsinput"value="0" size=4 &gt;
&lt;/form&gt;

&lt;script&gt;
countSecond()
&lt;/script&gt;

&lt;/body&gt; &lt;/html&gt;
</code></pre></div></div>

<p>ä½ å¯ä»¥çœ‹åˆ°inputæ–‡æœ¬æ¡†ä¸­çš„æ•°å­—åœ¨ä¸€ç§’ä¸€ç§’çš„é€’å¢ï¼æ‰€ä»¥ï¼ŒsetTimeoutä¹Ÿå¯ä»¥åˆ¶ä½œç½‘é¡µä¸­çš„æ—¶é—´è·³åŠ¨ï¼</p>

<p>æ²¡æœ‰æ¡ˆä¾‹ï¼Œå­¦ä¹ èµ·æ¥ä¸ä¼šå¾ˆå¿«ï¼Œæˆ‘ä»¬å†æ¥ä¸€èµ·åšä¸€ä¸ªä¾‹å­ï¼Œè®¡ç®—ä½ åœ¨haoroomsæŸä¸ªé¡µé¢çš„åœç•™æ—¶é—´ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;script&gt;
x=0
y=-1
function countMin()
{ã€€y=y+1
ã€€ document.displayMin.displayBox.value=y
ã€€ setTimeout("countMin()",60000)
}
function countSec()
{ã€€x = x + 1
ã€€ z =x % 60
ã€€ document.displaySec.displayBox.value=z
ã€€ setTimeout("countSec()", 1000)
}
&lt;/script&gt; &lt;/head&gt;
&lt;body&gt;
&lt;table&gt; &lt;tr valign=top&gt; &lt;td&gt; ä½ åœ¨haoroomsåšå®¢ä¸­çš„åœç•™æ—¶é—´æ˜¯: &lt;/td&gt;
&lt;td&gt; 
&lt;form name=displayMin&gt;
   &lt;input type=text name=displayBox value=0 size=4 &gt;
&lt;/form&gt; 
&lt;/td&gt;
&lt;td&gt; åˆ† &lt;/td&gt;
&lt;td&gt; 
&lt;form name=displaySec&gt; &lt;/td&gt;
&lt;td&gt; &lt;input type=text name=displayBox value=0 size=4 &gt;
&lt;/form&gt;
 &lt;/td&gt;
&lt;td&gt; ç§’ã€‚&lt;/td&gt; &lt;/tr&gt;
 &lt;/table&gt;
&lt;script&gt;
countMin()
countSec()
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div></div>

<p>æ€ä¹ˆæ ·ï¼Œé€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œå¯¹setTimeoutï¼ˆï¼‰çš„ç”¨æ³•ï¼Œç›¸ä¿¡ä½ éƒ½äº†è§£äº†å§ï¼</p>

<h2 id="cleartimeout-">clearTimeout( )</h2>

<p>æˆ‘ä»¬å†æ¥ä¸€èµ·çœ‹ä¸€ä¸‹ clearTimeout( )ï¼Œ</p>

<p>clearTimout( ) æœ‰ä»¥ä¸‹è¯­æ³• : ã€€</p>

<p>clearTimeout(timeoutID)</p>

<p>è¦ä½¿ç”¨ clearTimeout( ), æˆ‘ä»¬è®¾å®š setTimeout( ) æ—¶ , è¦ç»™äºˆè¿™ setTimout( ) ä¸€ä¸ªåç§° , è¿™åç§°å°±æ˜¯ timeoutID , æˆ‘ä»¬å«åœæ—¶ , å°±æ˜¯ç”¨è¿™ timeoutID æ¥å«åœ , è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰åç§° , ä½†å¾ˆå¤šäººå°±ä»¥ timeoutID ä¸ºåã€‚</p>

<p>åœ¨ä¸‹é¢çš„ä¾‹å­ , è®¾å®šä¸¤ä¸ª timeoutID, åˆ†åˆ«å‘½åä¸º meter1 åŠ meter2, å¦‚ä¸‹ :</p>

<p>timeoutID ã€€â†“ meter1 = setTimeout(â€œcount1( )â€, 1000) meter2 = setTimeout(â€œcount2( )â€, 1000)</p>

<p>ä½¿ç”¨è¿™ meter1 åŠ meter2 è¿™äº› timeoutID åç§° , åœ¨è®¾å®š clearTimeout( ) æ—¶ , å°±å¯æŒ‡å®šå¯¹å“ªä¸€ä¸ª setTimeout( ) æœ‰æ•ˆ , ä¸ä¼šæ‰°åŠå¦ä¸€ä¸ª setTimeout( ) çš„æ“ä½œã€‚</p>

<p><strong>ä¸‹é¢è¯·çœ‹ clearTimeout()çš„æ¡ˆä¾‹</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;

&lt;script&gt;
x = 0
y = 0
function count1()
{ã€€x = x + 1
ã€€ document.display1.box1.value = x
ã€€ meter1=setTimeout("count1()", 1000)
}
function count2()
{ã€€y = y + 1
ã€€ document.display2.box2.value = y
ã€€ meter2=setTimeout("count2()", 1000)
}
&lt;/script&gt; &lt;/head&gt;
&lt;body&gt; 
&lt;p&gt; &lt;/br&gt;
&lt;form name="display1"&gt;
    &lt;input type="text" name="box1" value="0" size=4 &gt;
    &lt;input type=button value="åœæ­¢è®¡æ—¶" onClick="clearTimeout(meter1) " &gt;
    &lt;input type=button value="ç»§ç»­è®¡æ—¶" onClick="count1() " &gt;
&lt;/form&gt;
&lt;p&gt;
&lt;form name="display2"&gt;
    &lt;input type="text" name="box2" value="0" size=4 &gt;
    &lt;input type=button value="åœæ­¢è®¡æ—¶" onClick="clearTimeout(meter2) " &gt;
    &lt;input type=button value="ç»§ç»­è®¡æ—¶" onClick="count2() " &gt;
&lt;/form&gt;

&lt;script&gt;
    count1()
    count2()
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div></div>
:ET