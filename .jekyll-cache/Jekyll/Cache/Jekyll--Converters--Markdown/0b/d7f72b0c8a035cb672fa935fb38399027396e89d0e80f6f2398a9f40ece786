I"ù<h4 id="51-create-a-structured-array-representing-a-position-xy-and-a-color-rgb-">51. Create a structured array representing a position (x,y) and a color (r,g,b) (â˜…â˜…â˜†)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span> <span class="p">(</span><span class="s">'position'</span><span class="p">,</span> <span class="p">[</span> <span class="p">(</span><span class="s">'x'</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                                  <span class="p">(</span><span class="s">'y'</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]),</span>
                   <span class="p">(</span><span class="s">'color'</span><span class="p">,</span>    <span class="p">[</span> <span class="p">(</span><span class="s">'r'</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                                  <span class="p">(</span><span class="s">'g'</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                                  <span class="p">(</span><span class="s">'b'</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])])</span>
<span class="k">print</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[((0., 0.), (0., 0., 0.)) ((0., 0.), (0., 0., 0.))
 ((0., 0.), (0., 0., 0.)) ((0., 0.), (0., 0., 0.))
 ((0., 0.), (0., 0., 0.)) ((0., 0.), (0., 0., 0.))
 ((0., 0.), (0., 0., 0.)) ((0., 0.), (0., 0., 0.))
 ((0., 0.), (0., 0., 0.)) ((0., 0.), (0., 0., 0.))]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">help</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Help on built-in function zeros in module numpy:

zeros(...)
    zeros(shape, dtype=float, order='C')
    
    Return a new array of given shape and type, filled with zeros.
    
    Parameters
    ----------
    shape : int or tuple of ints
        Shape of the new array, e.g., ``(2, 3)`` or ``2``.
    dtype : data-type, optional
        The desired data-type for the array, e.g., `numpy.int8`.  Default is
        `numpy.float64`.
    order : {'C', 'F'}, optional, default: 'C'
        Whether to store multi-dimensional data in row-major
        (C-style) or column-major (Fortran-style) order in
        memory.
    
    Returns
    -------
    out : ndarray
        Array of zeros with the given shape, dtype, and order.
    
    See Also
    --------
    zeros_like : Return an array of zeros with shape and type of input.
    empty : Return a new uninitialized array.
    ones : Return a new array setting values to one.
    full : Return a new array of given shape filled with value.
    
    Examples
    --------
    &gt;&gt;&gt; np.zeros(5)
    array([ 0.,  0.,  0.,  0.,  0.])
    
    &gt;&gt;&gt; np.zeros((5,), dtype=int)
    array([0, 0, 0, 0, 0])
    
    &gt;&gt;&gt; np.zeros((2, 1))
    array([[ 0.],
           [ 0.]])
    
    &gt;&gt;&gt; s = (2,2)
    &gt;&gt;&gt; np.zeros(s)
    array([[ 0.,  0.],
           [ 0.,  0.]])
    
    &gt;&gt;&gt; np.zeros((2,), dtype=[('x', 'i4'), ('y', 'i4')]) # custom dtype
    array([(0, 0), (0, 0)],
          dtype=[('x', '&lt;i4'), ('y', '&lt;i4')])
</code></pre></div></div>

<h4 id="52-consider-a-random-vector-with-shape-1002-representing-coordinates-find-point-by-point-distances-">52. Consider a random vector with shape (100,2) representing coordinates, find point by point distances (â˜…â˜…â˜†)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">random</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">X</span><span class="p">,</span><span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">Z</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">Z</span><span class="p">[:,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="p">(</span><span class="n">X</span><span class="o">-</span><span class="n">X</span><span class="p">.</span><span class="n">T</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">Y</span><span class="o">-</span><span class="n">Y</span><span class="p">.</span><span class="n">T</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>

<span class="c1"># Much faster with scipy
</span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="c1"># Thanks Gavin Heverly-Coulson (#issue 1)
</span><span class="kn">import</span> <span class="nn">scipy.spatial</span>

<span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">random</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">scipy</span><span class="p">.</span><span class="n">spatial</span><span class="p">.</span><span class="n">distance</span><span class="p">.</span><span class="n">cdist</span><span class="p">(</span><span class="n">Z</span><span class="p">,</span><span class="n">Z</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[0.         0.66386189 0.8110802  0.45555898 0.79976527 0.99798725
  0.73104201 0.8586926  0.89385049 0.56518628]
 [0.66386189 0.         0.29340814 0.55194961 0.42434645 0.4374452
  0.0679972  0.29111006 0.2750587  0.24301989]
 [0.8110802  0.29340814 0.         0.51333753 0.17025688 0.18690928
  0.26715593 0.06918282 0.46476724 0.53228094]
 [0.45555898 0.55194961 0.51333753 0.         0.42214156 0.68000796
  0.59612178 0.57976633 0.82666903 0.63622122]
 [0.79976527 0.42434645 0.17025688 0.42214156 0.         0.27287764
  0.41645511 0.23189218 0.63045007 0.64336408]
 [0.99798725 0.4374452  0.18690928 0.68000796 0.27287764 0.
  0.38946345 0.15036122 0.51878701 0.6799131 ]
 [0.73104201 0.0679972  0.26715593 0.59612178 0.41645511 0.38946345
  0.         0.25016463 0.23571434 0.29386009]
 [0.8586926  0.29111006 0.06918282 0.57976633 0.23189218 0.15036122
  0.25016463 0.         0.42107114 0.53411906]
 [0.89385049 0.2750587  0.46476724 0.82666903 0.63045007 0.51878701
  0.23571434 0.42107114 0.         0.34973461]
 [0.56518628 0.24301989 0.53228094 0.63622122 0.64336408 0.6799131
  0.29386009 0.53411906 0.34973461 0.        ]]
[[0.         0.11452473 0.2718827  0.64494674 0.21610756 0.2158186
  0.36980996 0.37138037 0.38996277 0.87413376]
 [0.11452473 0.         0.19826672 0.53080032 0.17290522 0.10233983
  0.30673433 0.28426161 0.36712929 0.76212541]
 [0.2718827  0.19826672 0.         0.48829615 0.35540913 0.1547764
  0.10943324 0.39653982 0.54658712 0.64906401]
 [0.64494674 0.53080032 0.48829615 0.         0.52749355 0.43359618
  0.51559318 0.37351903 0.60202271 0.30539521]
 [0.21610756 0.17290522 0.35540913 0.52749355 0.         0.20982411
  0.46436356 0.17992175 0.19453576 0.80335164]
 [0.2158186  0.10233983 0.1547764  0.43359618 0.20982411 0.
  0.25984355 0.24718883 0.39532076 0.65983299]
 [0.36980996 0.30673433 0.10943324 0.51559318 0.46436356 0.25984355
  0.         0.49184782 0.6544002  0.62329695]
 [0.37138037 0.28426161 0.39653982 0.37351903 0.17992175 0.24718883
  0.49184782 0.         0.23439261 0.66895546]
 [0.38996277 0.36712929 0.54658712 0.60202271 0.19453576 0.39532076
  0.6544002  0.23439261 0.         0.90185158]
 [0.87413376 0.76212541 0.64906401 0.30539521 0.80335164 0.65983299
  0.62329695 0.66895546 0.90185158 0.        ]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">numpy</span><span class="p">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="o">*</span><span class="n">arys</span><span class="p">)</span> <span class="n">æŠŠè¾“å…¥çœ‹æˆè‡³å°‘æœ‰ä¸¤ä¸ªdimensionçš„array</span> 
<span class="n">å½¢ä¼¼æ•°ç»„çš„åºåˆ—</span><span class="err">ï¼Œ</span><span class="n">ä¸æ˜¯æ•°ç»„è¢«è½¬ä¸ºæ•°ç»„</span><span class="err">ï¼Œ</span><span class="n">dimension</span><span class="o">&gt;=</span><span class="mi">2</span><span class="n">ä¿ç•™</span>
<span class="k">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">atleast_2d</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]))</span>
<span class="k">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">],[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]))</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">atleast_2d</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">6</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="s">'double'</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">atleast_2d</span><span class="p">(</span><span class="n">array</span><span class="p">([],</span> <span class="n">dtype</span> <span class="o">=</span><span class="s">'double'</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">è¾“å‡º</span><span class="err">ï¼š</span>
<span class="p">[[</span><span class="mi">3</span><span class="p">]]</span>
<span class="p">[[</span><span class="mi">1</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">]]</span>
<span class="p">[</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">]]),</span> <span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]]),</span> <span class="n">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])]</span>
<span class="p">[</span> <span class="mf">1.</span>  <span class="mf">1.</span>  <span class="mf">1.</span>  <span class="mf">1.</span>  <span class="mf">1.</span><span class="p">]</span>
<span class="p">[[</span> <span class="mf">1.</span>  <span class="mf">1.</span>  <span class="mf">1.</span>  <span class="mf">1.</span>  <span class="mf">1.</span>  <span class="mf">1.</span><span class="p">]]</span>
<span class="p">(</span><span class="il">1L</span><span class="p">,</span> <span class="il">0L</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">scipy</span><span class="p">.</span><span class="n">spatial</span><span class="p">.</span><span class="n">distance</span><span class="p">.</span><span class="n">cdist</span> <span class="n">è¯¥å‡½æ•°ç”¨äºè®¡ç®—ä¸¤ä¸ªè¾“å…¥é›†åˆçš„è·ç¦»</span><span class="err">ï¼Œ</span>
<span class="n">é€šè¿‡metricå‚æ•°æŒ‡å®šè®¡ç®—è·ç¦»çš„ä¸åŒæ–¹å¼å¾—åˆ°ä¸åŒçš„è·ç¦»åº¦é‡å€¼</span>
<span class="n">metricçš„å–å€¼å¦‚ä¸‹</span><span class="err">ï¼š</span>

 <span class="n">braycurtis</span>
 <span class="n">canberra</span>
 <span class="n">chebyshev</span><span class="err">ï¼š</span><span class="n">åˆ‡æ¯”é›ªå¤«è·ç¦»</span>
 <span class="n">cityblock</span>
 <span class="n">correlation</span><span class="err">ï¼š</span><span class="n">ç›¸å…³ç³»æ•°</span>
 <span class="n">cosine</span><span class="err">ï¼š</span><span class="n">ä½™å¼¦å¤¹è§’</span>
 <span class="n">dice</span>
 <span class="n">euclidean</span><span class="err">ï¼š</span><span class="n">æ¬§å¼è·ç¦»</span>
 <span class="n">hamming</span><span class="err">ï¼š</span><span class="n">æ±‰æ˜è·ç¦»</span>
 <span class="n">jaccard</span><span class="err">ï¼š</span><span class="n">æ°å¡å¾·ç›¸ä¼¼ç³»æ•°</span>
 <span class="n">kulsinski</span>
 <span class="n">mahalanobis</span><span class="err">ï¼š</span><span class="n">é©¬æ°è·ç¦»</span>
 <span class="n">matching</span>
 <span class="n">minkowski</span><span class="err">ï¼š</span><span class="n">é—µå¯å¤«æ–¯åŸºè·ç¦»</span>
 <span class="n">rogerstanimoto</span>
 <span class="n">russellrao</span>
 <span class="n">seuclidean</span><span class="err">ï¼š</span><span class="n">æ ‡å‡†åŒ–æ¬§å¼è·ç¦»</span>
 <span class="n">sokalmichener</span>
 <span class="n">sokalsneath</span>
 <span class="n">sqeuclidean</span>
 <span class="n">wminkowski</span>
 <span class="n">yule</span>

<span class="n">å¸¸è§çš„æ¬§æ°è·ç¦»è®¡ç®—</span><span class="err">ï¼š</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">scipy.spatial.distance</span> <span class="kn">import</span> <span class="n">cdist</span>
   <span class="p">...:</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
   <span class="p">...:</span> <span class="n">x1</span> <span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
   <span class="p">...:</span> <span class="n">x2</span> <span class="o">=</span><span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">)]</span>
   <span class="p">...:</span> <span class="n">cdist</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">,</span><span class="n">metric</span><span class="o">=</span><span class="s">'euclidean'</span><span class="p">)</span>
   <span class="p">...:</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">4.47213595</span><span class="p">,</span>  <span class="mf">5.83095189</span><span class="p">,</span>  <span class="mf">7.81024968</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">3.16227766</span><span class="p">,</span>  <span class="mf">4.47213595</span><span class="p">,</span>  <span class="mf">6.40312424</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">2.23606798</span><span class="p">,</span>  <span class="mf">2.23606798</span><span class="p">,</span>  <span class="mf">3.16227766</span><span class="p">]])</span>

<span class="n">è§£æä¸Šè¿°è®¡ç®—è¿‡ç¨‹</span><span class="err">ï¼š</span><span class="n">ç»“æœæ•°ç»„ä¸­çš„ç¬¬ä¸€è¡Œæ•°æ®è¡¨ç¤ºçš„æ˜¯x1æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ç‚¹ä¸x2æ•°ç»„ä¸­å„ä¸ªå…ƒç´ ç‚¹çš„è·ç¦»</span><span class="err">ï¼Œ</span><span class="n">è®¡ç®—ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»</span>
<span class="n">ä»¥ç‚¹</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="n">ä¸</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="n">ç‚¹çš„è·ç¦»ä¸ºä¾‹</span><span class="err">ï¼š</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">np</span><span class="p">.</span><span class="n">power</span><span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span><span class="p">(</span><span class="mi">3</span><span class="o">-</span><span class="mi">7</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="mf">4.4721359549995796</span> 
</code></pre></div></div>

<h4 id="53-how-to-convert-a-float-32-bits-array-into-an-integer-32-bits-in-place">53. How to convert a float (32 bits) array into an integer (32 bits) in place?</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="n">float32</span><span class="p">)</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">Z</span><span class="p">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">int32</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[0 1 2 3 4 5 6 7 8 9]
</code></pre></div></div>

<h4 id="54-how-to-read-the-following-file-">54. How to read the following file? (â˜…â˜…â˜†)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>

<span class="c1"># Fake file 
</span><span class="n">s</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">(</span><span class="s">"""1, 2, 3, 4, 5</span><span class="se">\n</span><span class="s">
                6,  ,  , 7, 8</span><span class="se">\n</span><span class="s">
                 ,  , 9,10,11</span><span class="se">\n</span><span class="s">"""</span><span class="p">)</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">","</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nb">int</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[ 1  2  3  4  5]
 [ 6 -1 -1  7  8]
 [-1 -1  9 10 11]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">StringIOé¡¾åæ€ä¹‰å°±æ˜¯åœ¨å†…å­˜ä¸­è¯»å†™str</span><span class="err">ã€‚</span>
<span class="n">è¦æŠŠstrå†™å…¥StringIO</span><span class="err">ï¼Œ</span><span class="n">æˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªStringIO</span><span class="err">ï¼Œ</span><span class="n">ç„¶å</span><span class="err">ï¼Œ</span><span class="n">åƒæ–‡ä»¶ä¸€æ ·å†™å…¥å³å¯</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">'hello'</span><span class="p">)</span>
<span class="mi">5</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">' '</span><span class="p">)</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">'world!'</span><span class="p">)</span>
<span class="mi">6</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">getvalue</span><span class="p">())</span> <span class="c1"># getvalue()æ–¹æ³•ç”¨äºè·å¾—å†™å…¥åçš„strã€‚
</span><span class="n">hello</span> <span class="n">world</span><span class="err">!</span>

<span class="n">è¦è¯»å–StringIO</span><span class="err">ï¼Œ</span><span class="n">å¯ä»¥ç”¨ä¸€ä¸ªstråˆå§‹åŒ–StringIO</span><span class="err">ï¼Œ</span><span class="n">ç„¶å</span><span class="err">ï¼Œ</span><span class="n">åƒè¯»æ–‡ä»¶ä¸€æ ·è¯»å–</span><span class="err">ï¼š</span>

<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">(</span><span class="s">'Hello!</span><span class="se">\n</span><span class="s">Hi!</span><span class="se">\n</span><span class="s">Goodbye!'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="p">...</span>     <span class="n">s</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">readline</span><span class="p">()</span>
<span class="p">...</span>     <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s">''</span><span class="p">:</span>
<span class="p">...</span>         <span class="k">break</span>
<span class="p">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">strip</span><span class="p">())</span>
<span class="p">...</span>
<span class="n">Hello</span><span class="err">!</span>
<span class="n">Hi</span><span class="err">!</span>
<span class="n">Goodbye</span><span class="err">!</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">genfromtxtå‡½æ•°</span>
<span class="o">-</span><span class="err">Â </span><span class="n">genfromtxtå‡½æ•°åˆ›å»ºæ•°ç»„è¡¨æ ¼æ•°æ®</span>
<span class="o">-</span> <span class="n">genfromtxtä¸»è¦æ‰§è¡Œä¸¤ä¸ªå¾ªç¯è¿ç®—</span><span class="err">ã€‚</span><span class="n">ç¬¬ä¸€ä¸ªå¾ªç¯å°†æ–‡ä»¶çš„æ¯ä¸€è¡Œè½¬æ¢æˆå­—ç¬¦ä¸²åºåˆ—</span><span class="err">ã€‚</span><span class="n">ç¬¬äºŒä¸ªå¾ªç¯å°†æ¯ä¸ªå­—ç¬¦ä¸²åºåˆ—è½¬æ¢ä¸ºç›¸åº”çš„æ•°æ®ç±»å‹</span><span class="err">ã€‚</span>
<span class="o">-</span> <span class="n">genfromtxtèƒ½å¤Ÿè€ƒè™‘ç¼ºå¤±çš„æ•°æ®</span><span class="p">,</span><span class="n">ä½†å…¶ä»–æ›´å¿«å’Œæ›´ç®€å•çš„å‡½æ•°åƒloadtxtä¸èƒ½è€ƒè™‘ç¼ºå¤±å€¼</span><span class="err">ã€‚</span>
<span class="o">-</span> <span class="n">ä½¿ç”¨å‰éœ€å¯¼å…¥ç›¸åº”æ¨¡å—</span>

<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">StringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>

<span class="o">-</span> <span class="n">å®šä¹‰è¾“å…¥</span>
<span class="n">genfromtxtå”¯ä¸€çš„å¼ºåˆ¶å‚æ•°æ˜¯æ•°æ®çš„æ¥æº</span><span class="err">ã€‚</span><span class="n">å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹åº”äºä¸€ä¸ªæœ¬åœ°æˆ–è¿œç¨‹æ–‡ä»¶çš„åå­—å­—ç¬¦ä¸²</span><span class="p">,</span><span class="n">æˆ–ä¸€ä¸ªæœ‰readæ–¹æ³•çš„file</span><span class="o">-</span><span class="n">likeå¯¹è±¡</span><span class="p">(</span><span class="n">å¦‚ä¸€ä¸ªå®é™…çš„æ–‡ä»¶æˆ–StringIO</span><span class="err">ã€‚</span><span class="n">StringIOå¯¹è±¡</span><span class="p">)</span><span class="err">ã€‚</span><span class="n">å¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªè¿œç¨‹æ–‡ä»¶çš„URL</span><span class="p">,</span><span class="n">åè€…åœ¨å½“å‰ç›®å½•ä¸­è‡ªåŠ¨ä¸‹è½½</span><span class="err">ã€‚</span><span class="n">è¾“å…¥æ–‡ä»¶å¯ä»¥æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶æˆ–å­˜æ¡£</span><span class="err">ï¼Œ</span><span class="n">ç›®å‰</span><span class="p">,</span><span class="n">è¯¥å‡½æ•°è¯†åˆ«gzipå’Œbz2</span><span class="p">(</span><span class="n">bzip2</span><span class="p">)</span><span class="err">ã€‚</span><span class="n">å½’æ¡£æ–‡ä»¶çš„ç±»å‹æ˜¯æ£€æŸ¥æ–‡ä»¶çš„æ‰©å±•</span><span class="err">ï¼š</span><span class="n">å¦‚æœæ–‡ä»¶åä»¥</span><span class="err">â€œ</span><span class="p">.</span><span class="n">gz</span><span class="err">â€</span><span class="n">ç»“å°¾</span><span class="err">â€</span><span class="p">,</span><span class="n">gzipå­˜æ¡£</span><span class="p">;</span><span class="n">å¦‚æœå®ƒç»“å°¾æ˜¯</span><span class="err">â€œ</span><span class="n">bz2</span><span class="err">â€</span><span class="p">,</span><span class="n">bzip2å­˜æ¡£</span><span class="err">ã€‚</span>

<span class="o">-</span> <span class="n">å°†è¡Œåˆ†å‰²æˆåˆ—</span>
<span class="err">Â </span> <span class="err">Â </span> <span class="err">Â </span><span class="o">-</span> <span class="n">genfromtxtåˆ†å‰²æ¯ä¸ªéç©ºè¡Œæˆä¸€ä¸ªå­—ç¬¦ä¸²åºåˆ—</span><span class="err">ã€‚</span><span class="n">ç©ºçš„è¡Œæˆ–æ³¨é‡Šè¡Œè·³è¿‡</span><span class="err">ã€‚</span>
<span class="err">Â </span> <span class="err">Â </span> <span class="err">Â </span><span class="o">-</span><span class="err">Â </span><span class="n">åˆ†å‰²ç¬¦å¹¶ä¸å±€é™äºå•ä¸ªå­—ç¬¦</span><span class="p">,</span><span class="n">ä»»ä½•å­—ç¬¦ä¸²å°±å¯ä»¥äº†</span><span class="err">ã€‚</span>
<span class="err">Â </span> <span class="err">Â </span> <span class="err">Â </span><span class="o">-</span> <span class="n">åˆ†å‰²ä¸€ä¸ªå›ºå®šå®½åº¦çš„æ–‡ä»¶</span><span class="p">,</span><span class="n">åˆ—çš„å®½åº¦è¢«å®šä¹‰ä¸ºä¸€ä¸ªç»™å®šçš„å­—ç¬¦æ•°</span><span class="err">ã€‚</span><span class="n">åœ¨è¿™ç§æƒ…å†µä¸‹</span><span class="p">,</span><span class="n">æˆ‘ä»¬éœ€è¦å°†åˆ†éš”ç¬¦è®¾ç½®æˆä¸€ä¸ªæ•´æ•°</span><span class="p">(</span><span class="n">å¦‚æœæ‰€æœ‰çš„åˆ—æœ‰ç›¸åŒçš„å¤§å°</span><span class="p">)</span><span class="n">æˆ–ä¸€ä¸ªæ•´æ•°åºåˆ—</span><span class="p">(</span><span class="n">å¦‚æœåˆ—å¯ä»¥æœ‰ä¸åŒçš„å¤§å°</span><span class="p">)</span><span class="err">ã€‚</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"123456789</span><span class="se">\n</span><span class="s">Â  4Â  7 9</span><span class="se">\n</span><span class="s">Â  4567 9"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">delimiter</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">1234.</span><span class="p">,</span><span class="err">Â </span> <span class="mf">567.</span><span class="p">,</span><span class="err">Â </span> <span class="err">Â </span> <span class="mf">89.</span><span class="p">],</span><span class="err">Â </span> <span class="err">Â </span> <span class="err">Â </span> <span class="p">[</span><span class="err">Â </span> <span class="err">Â </span> <span class="mf">4.</span><span class="p">,</span><span class="err">Â </span> <span class="err">Â </span> <span class="mf">7.</span><span class="p">,</span><span class="err">Â </span> <span class="err">Â </span> <span class="mf">9.</span><span class="p">],</span><span class="err">Â </span> <span class="err">Â </span> <span class="err">Â </span> <span class="p">[</span><span class="err">Â </span> <span class="err">Â </span> <span class="mf">4.</span><span class="p">,</span><span class="err">Â </span> <span class="mf">567.</span><span class="p">,</span><span class="err">Â </span> <span class="err">Â </span> <span class="mf">9.</span><span class="p">]])</span>
<span class="n">link</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">blog</span><span class="p">.</span><span class="n">csdn</span><span class="p">.</span><span class="n">net</span><span class="o">/</span><span class="n">chang_yuan_2011</span><span class="o">/</span><span class="n">article</span><span class="o">/</span><span class="n">details</span><span class="o">/</span><span class="mi">21300443</span> 
</code></pre></div></div>

<h4 id="55-what-is-the-equivalent-of-enumerate-for-numpy-arrays-">55. What is the equivalent of enumerate for numpy arrays? (â˜…â˜…â˜†)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">9</span><span class="p">).</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">np</span><span class="p">.</span><span class="n">ndenumerate</span><span class="p">(</span><span class="n">Z</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">np</span><span class="p">.</span><span class="n">ndindex</span><span class="p">(</span><span class="n">Z</span><span class="p">.</span><span class="n">shape</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">Z</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(0, 0) 0
(0, 1) 1
(0, 2) 2
(1, 0) 3
(1, 1) 4
(1, 2) 5
(2, 0) 6
(2, 1) 7
(2, 2) 8
(0, 0) 0
(0, 1) 1
(0, 2) 2
(1, 0) 3
(1, 1) 4
(1, 2) 5
(2, 0) 6
(2, 1) 7
(2, 2) 8
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># np.ndenumerateæ‰“å°å‡ºå…ƒç´ çš„åæ ‡åŠå…¶å€¼
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">np</span><span class="p">.</span><span class="n">ndenumerate</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
<span class="p">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="mi">1</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="mi">2</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="mi">3</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="mi">4</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># np.ndindexæ‰“å°å‡ºå…ƒç´ çš„åæ ‡
</span><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">np</span><span class="p">.</span><span class="n">ndindex</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
<span class="p">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="56-generate-a-generic-2d-gaussian-like-array-">56. Generate a generic 2D Gaussian-like array (â˜…â˜…â˜†)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">X</span><span class="p">,</span> <span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">np</span><span class="p">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">X</span><span class="o">*</span><span class="n">X</span><span class="o">+</span><span class="n">Y</span><span class="o">*</span><span class="n">Y</span><span class="p">)</span>
<span class="n">sigma</span><span class="p">,</span> <span class="n">mu</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span> <span class="p">(</span><span class="n">D</span><span class="o">-</span><span class="n">mu</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="p">(</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">sigma</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[0.36787944 0.44822088 0.51979489 0.57375342 0.60279818 0.60279818
  0.57375342 0.51979489 0.44822088 0.36787944]
 [0.44822088 0.54610814 0.63331324 0.69905581 0.73444367 0.73444367
  0.69905581 0.63331324 0.54610814 0.44822088]
 [0.51979489 0.63331324 0.73444367 0.81068432 0.85172308 0.85172308
  0.81068432 0.73444367 0.63331324 0.51979489]
 [0.57375342 0.69905581 0.81068432 0.89483932 0.9401382  0.9401382
  0.89483932 0.81068432 0.69905581 0.57375342]
 [0.60279818 0.73444367 0.85172308 0.9401382  0.98773022 0.98773022
  0.9401382  0.85172308 0.73444367 0.60279818]
 [0.60279818 0.73444367 0.85172308 0.9401382  0.98773022 0.98773022
  0.9401382  0.85172308 0.73444367 0.60279818]
 [0.57375342 0.69905581 0.81068432 0.89483932 0.9401382  0.9401382
  0.89483932 0.81068432 0.69905581 0.57375342]
 [0.51979489 0.63331324 0.73444367 0.81068432 0.85172308 0.85172308
  0.81068432 0.73444367 0.63331324 0.51979489]
 [0.44822088 0.54610814 0.63331324 0.69905581 0.73444367 0.73444367
  0.69905581 0.63331324 0.54610814 0.44822088]
 [0.36787944 0.44822088 0.51979489 0.57375342 0.60279818 0.60279818
  0.57375342 0.51979489 0.44822088 0.36787944]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">meshgridå‡½æ•°ç”¨ä¸¤ä¸ªåæ ‡è½´ä¸Šçš„ç‚¹åœ¨å¹³é¢ä¸Šç”»æ ¼</span><span class="err">ã€‚</span>
<span class="n">ç”¨æ³•</span><span class="err">ï¼š</span>
<span class="err">ã€€ã€€</span><span class="p">[</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">]</span><span class="o">=</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> 
<span class="err">ã€€ã€€</span><span class="p">[</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">]</span><span class="o">=</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="n">ä¸</span><span class="p">[</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">]</span><span class="o">=</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">)</span><span class="n">æ˜¯ç­‰åŒçš„</span> 
<span class="err">ã€€ã€€</span><span class="p">[</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">]</span><span class="o">=</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span><span class="n">ç”Ÿæˆä¸‰ç»´æ•°ç»„</span><span class="err">ï¼Œ</span><span class="n">å¯ç”¨æ¥è®¡ç®—ä¸‰å˜é‡çš„å‡½æ•°å’Œç»˜åˆ¶ä¸‰ç»´ç«‹ä½“å›¾</span> 
<span class="err">ã€€ã€€</span><span class="n">ä¾‹å¦‚ä¾‹é¢˜1</span><span class="err">ï¼š</span> 
<span class="err">ã€€ã€€</span><span class="n">x</span><span class="o">=-</span><span class="mi">3</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">;</span><span class="n">y</span><span class="o">=-</span><span class="mi">2</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">;</span> 
<span class="err">ã€€ã€€</span><span class="p">[</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">]</span><span class="o">=</span> <span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">);</span> 
<span class="err">ã€€ã€€</span><span class="n">è¿™é‡Œmeshigrid</span><span class="err">ï¼ˆ</span><span class="n">x</span><span class="err">ï¼Œ</span><span class="n">y</span><span class="err">ï¼‰</span><span class="n">çš„ä½œç”¨æ˜¯äº§ç”Ÿä¸€ä¸ªä»¥å‘é‡xä¸ºè¡Œ</span><span class="err">ï¼Œ</span><span class="n">å‘é‡yä¸ºåˆ—çš„çŸ©é˜µ</span><span class="err">ï¼Œ</span><span class="n">è€Œxæ˜¯ä»</span><span class="o">-</span><span class="mi">3</span><span class="n">å¼€å§‹åˆ°3</span><span class="err">ï¼Œ</span><span class="n">æ¯é—´éš”1è®°ä¸‹ä¸€ä¸ªæ•°æ®</span><span class="err">ï¼Œ</span><span class="n">å¹¶æŠŠè¿™äº›æ•°æ®é›†æˆçŸ©é˜µX</span><span class="err">ï¼›</span><span class="n">åŒç†yåˆ™æ˜¯ä»</span><span class="o">-</span><span class="mi">2</span><span class="n">åˆ°2</span><span class="err">ï¼Œ</span><span class="n">æ¯é—´éš”1è®°ä¸‹ä¸€ä¸ªæ•°æ®</span><span class="err">ï¼Œ</span><span class="n">å¹¶é›†æˆçŸ©é˜µY</span><span class="err">ã€‚</span><span class="n">å³</span> 
<span class="err">ã€€ã€€</span><span class="n">X</span><span class="o">=</span> 
<span class="err">ã€€ã€€</span><span class="o">-</span><span class="mi">3</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> 
<span class="err">ã€€ã€€</span><span class="o">-</span><span class="mi">3</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> 
<span class="err">ã€€ã€€</span><span class="o">-</span><span class="mi">3</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> 
<span class="err">ã€€ã€€</span><span class="o">-</span><span class="mi">3</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> 
<span class="err">ã€€ã€€</span><span class="o">-</span><span class="mi">3</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> 
<span class="err">ã€€ã€€</span><span class="n">Y</span> <span class="o">=</span> 
<span class="err">ã€€ã€€</span><span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">2</span> 
<span class="err">ã€€ã€€</span><span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span> 
<span class="err">ã€€ã€€</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> 
<span class="err">ã€€ã€€</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> 
<span class="err">ã€€ã€€</span><span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span>
</code></pre></div></div>

<h4 id="57-how-to-randomly-place-p-elements-in-a-2d-array-">57. How to randomly place p elements in a 2D array? (â˜…â˜…â˜†)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Author: Divakar
</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">p</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">n</span><span class="p">,</span><span class="n">n</span><span class="p">))</span>
<span class="n">np</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">Z</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="p">),</span> <span class="n">p</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 1. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 1. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 1. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="p">),</span> <span class="n">p</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="c1"># array([85, 16, 24])
</span>
<span class="n">æ¦‚è¿°</span><span class="err">ï¼š</span>
<span class="n">å¯ä»¥ä»ä¸€ä¸ªintæ•°å­—æˆ–1ç»´arrayé‡Œéšæœºé€‰å–å†…å®¹</span><span class="err">ï¼Œ</span><span class="n">å¹¶å°†é€‰å–ç»“æœæ”¾å…¥nç»´arrayä¸­è¿”å›</span><span class="err">ã€‚</span>

<span class="n">è¯´æ˜</span><span class="err">ï¼š</span>
<span class="n">numpy</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="p">:</span> <span class="mi">1</span><span class="o">-</span><span class="n">D</span> <span class="n">array</span><span class="o">-</span><span class="n">like</span> <span class="ow">or</span> <span class="nb">int</span>
    <span class="n">If</span> <span class="n">an</span> <span class="n">ndarray</span><span class="p">,</span> <span class="n">a</span> <span class="n">random</span> <span class="n">sample</span> <span class="ow">is</span> <span class="n">generated</span> <span class="k">from</span> <span class="n">its</span> <span class="n">elements</span><span class="p">.</span> 
    <span class="n">If</span> <span class="n">an</span> <span class="nb">int</span><span class="p">,</span> <span class="n">the</span> <span class="n">random</span> <span class="n">sample</span> <span class="ow">is</span> <span class="n">generated</span> <span class="k">as</span> <span class="k">if</span> <span class="n">a</span> <span class="n">was</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">size</span> <span class="p">:</span> <span class="nb">int</span> <span class="ow">or</span> <span class="nb">tuple</span> <span class="n">of</span> <span class="n">ints</span><span class="p">,</span> <span class="n">optional</span> 

<span class="o">&gt;&gt;&gt;</span> <span class="n">replace</span> <span class="p">:</span> <span class="n">boolean</span><span class="p">,</span> <span class="n">optional</span>
    <span class="n">Whether</span> <span class="n">the</span> <span class="n">sample</span> <span class="ow">is</span> <span class="k">with</span> <span class="ow">or</span> <span class="n">without</span> <span class="n">replacement</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="p">:</span> <span class="mi">1</span><span class="o">-</span><span class="n">D</span> <span class="n">array</span><span class="o">-</span><span class="n">like</span><span class="p">,</span> <span class="n">optional</span>
    <span class="n">The</span> <span class="n">probabilities</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">each</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">a</span><span class="p">.</span> <span class="n">If</span> <span class="ow">not</span> <span class="n">given</span> <span class="n">the</span> <span class="n">sample</span> <span class="n">assumes</span> <span class="n">a</span> <span class="n">uniform</span> <span class="n">distribution</span> <span class="n">over</span> <span class="nb">all</span> <span class="n">entries</span> <span class="ow">in</span> <span class="n">a</span><span class="p">.</span>

<span class="n">ç¤ºä¾‹</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">aa_milne_arr</span> <span class="o">=</span> <span class="p">[</span><span class="s">'pooh'</span><span class="p">,</span> <span class="s">'rabbit'</span><span class="p">,</span> <span class="s">'piglet'</span><span class="p">,</span> <span class="s">'Christopher'</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="n">aa_milne_arr</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="n">array</span><span class="p">([</span><span class="s">'pooh'</span><span class="p">,</span> <span class="s">'pooh'</span><span class="p">,</span> <span class="s">'pooh'</span><span class="p">,</span> <span class="s">'Christopher'</span><span class="p">,</span> <span class="s">'piglet'</span><span class="p">],</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="p">.</span><span class="n">put</span> <span class="n">æ ¹æ®ç´¢å¼•å€¼æ”¹å€¼</span>
<span class="n">Examples</span>
<span class="o">--------</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">44</span><span class="p">,</span> <span class="o">-</span><span class="mi">55</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">44</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">55</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">4</span><span class="p">])</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">'clip'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="n">array</span><span class="p">([</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">])</span>
</code></pre></div></div>

<h4 id="58-subtract-the-mean-of-each-row-of-a-matrix-">58. Subtract the mean of each row of a matrix (â˜…â˜…â˜†)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Author: Warren Weckesser
</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="c1"># Recent versions of numpy
</span><span class="n">Y</span> <span class="o">=</span> <span class="n">X</span> <span class="o">-</span> <span class="n">X</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Older versions of numpy
</span><span class="n">Y</span> <span class="o">=</span> <span class="n">X</span> <span class="o">-</span> <span class="n">X</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">).</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">Y</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[-0.19809466 -0.15711573 -0.11042906  0.2901787   0.02033369 -0.11905082
   0.12076003  0.14115663 -0.35460986  0.36687108]
 [ 0.29297505  0.33201038 -0.2166948   0.25836701 -0.25630355  0.13000201
  -0.36309828 -0.06795874  0.12931347 -0.23861255]
 [-0.08147058 -0.38801587  0.18044507  0.42724621 -0.27431754 -0.05233589
  -0.0767035  -0.24168453  0.06399476  0.44284186]
 [ 0.30606211  0.11456262  0.0997693  -0.45150437 -0.23776541  0.22560464
   0.01109345 -0.30517463 -0.06921538  0.30656766]
 [ 0.27400013 -0.39049857  0.01997976 -0.10475576 -0.00997943  0.03430215
   0.12405129 -0.30835623 -0.15464103  0.5158977 ]]
</code></pre></div></div>

<h4 id="59-how-to-sort-an-array-by-the-nth-column-">59. How to sort an array by the nth column? (â˜…â˜…â˜†)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Author: Steve Tjoa
</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">Z</span><span class="p">[</span><span class="n">Z</span><span class="p">[:,</span><span class="mi">1</span><span class="p">].</span><span class="n">argsort</span><span class="p">()])</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[5 5 0]
 [0 0 2]
 [5 9 4]]
[[0 0 2]
 [5 5 0]
 [5 9 4]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Z</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>array([5, 0, 9])
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Z</span><span class="p">[:,</span><span class="mi">1</span><span class="p">].</span><span class="n">argsort</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>array([1, 0, 2])
</code></pre></div></div>

<h4 id="60-how-to-tell-if-a-given-2d-array-has-null-columns-">60. How to tell if a given 2D array has null columns? (â˜…â˜…â˜†)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Author: Warren Weckesser
</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="k">print</span><span class="p">((</span><span class="o">~</span><span class="n">Z</span><span class="p">.</span><span class="nb">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)).</span><span class="nb">any</span><span class="p">())</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>False
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">æœ¬è´¨ä¸Šè®²</span><span class="err">ï¼Œ</span><span class="nb">any</span><span class="p">()</span><span class="n">å®ç°äº†æˆ–</span><span class="p">(</span><span class="n">OR</span><span class="p">)</span><span class="n">è¿ç®—</span><span class="err">ï¼Œ</span><span class="n">è€Œall</span><span class="p">()</span><span class="n">å®ç°äº†ä¸</span><span class="p">(</span><span class="n">AND</span><span class="p">)</span><span class="n">è¿ç®—</span><span class="err">ã€‚</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Z</span> 
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>array([[1, 1, 1, 2, 0, 0, 2, 1, 0, 1],
       [2, 2, 2, 2, 2, 1, 0, 1, 1, 2],
       [0, 2, 0, 2, 1, 0, 0, 1, 1, 2]])
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">~</span><span class="n">Z</span> 
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>array([[-2, -2, -2, -3, -1, -1, -3, -2, -1, -2],
       [-3, -3, -3, -3, -3, -2, -1, -2, -2, -3],
       [-1, -3, -1, -3, -2, -1, -1, -2, -2, -3]])
</code></pre></div></div>

<h4 id="61-find-the-nearest-value-from-a-given-value-in-an-array-">61. Find the nearest value from a given value in an array (â˜…â˜…â˜†)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Z</span><span class="p">.</span><span class="n">flat</span><span class="p">[</span><span class="n">np</span><span class="p">.</span><span class="nb">abs</span><span class="p">(</span><span class="n">Z</span> <span class="o">-</span> <span class="n">z</span><span class="p">).</span><span class="n">argmin</span><span class="p">()]</span>
<span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0.762767357871208
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Z</span> 
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>array([0.87994702, 0.76276736, 0.89488201, 0.90295194, 0.12712676,
       0.86744307, 0.78865033, 0.79097576, 0.96566122, 0.78528457])
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="p">.</span><span class="nb">abs</span><span class="p">(</span><span class="n">Z</span><span class="o">-</span><span class="n">z</span><span class="p">).</span><span class="n">argmin</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Z</span><span class="p">.</span><span class="n">flat</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0.762767357871208
</code></pre></div></div>

<h4 id="62-considering-two-arrays-with-shape-13-and-31-how-to-compute-their-sum-using-an-iterator-">62. Considering two arrays with shape (1,3) and (3,1), how to compute their sum using an iterator? (â˜…â˜…â˜†)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">it</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">nditer</span><span class="p">([</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="bp">None</span><span class="p">])</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="ow">in</span> <span class="n">it</span><span class="p">:</span> <span class="n">z</span><span class="p">[...]</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="k">print</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[0 1 2]
 [1 2 3]
 [2 3 4]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="p">,</span><span class="n">B</span> 
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(array([[0],
        [1],
        [2]]), array([[0, 1, 2]]))
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">numpy</span><span class="p">.</span><span class="n">nditer</span> <span class="n">ç”¨äºè¿­ä»£æ•°ç»„çš„é«˜æ•ˆå¤šç»´è¿­ä»£å™¨å¯¹è±¡</span><span class="err">ã€‚</span>
<span class="n">it</span><span class="p">.</span><span class="n">operands</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(array([[0],
        [1],
        [2]]), array([[0, 1, 2]]), array([[0, 1, 2],
        [1, 2, 3],
        [2, 3, 4]]))
</code></pre></div></div>
:ET