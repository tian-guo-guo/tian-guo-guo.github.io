I"Äa<h1 id="npm-åŒ…ç®¡ç†å·¥å…·"><a href="https://juejin.im/entry/6844903455312576519">npm åŒ…ç®¡ç†å·¥å…·</a></h1>

<p>åŒ…å…¶å®å°±æ˜¯ä¸€äº›æ¨¡å—ç»„ç»‡åˆ°ä¸€èµ·ï¼Œæ”¾åˆ°ä¸€ä¸ªç›®å½•ä¸­çš„ä¸€ä¸ªç§°å‘¼ï¼Œå«åŒ…æˆ–è€…æ¨¡å—éƒ½è¡Œã€‚Node Package Manager: npm æ˜¯ä¸€ä¸ªç”¨æ¥å®‰è£…å’Œç®¡ç†NodeåŒ…å’Œå‰ç«¯åŒ…çš„ä¸€ä¸ªå·¥å…·</p>

<h2 id="npm-æœ‰ä¸¤å±‚å«ä¹‰">npm æœ‰ä¸¤å±‚å«ä¹‰ï¼š</h2>

<ul>
  <li>npm å®˜æ–¹ç½‘ç«™
    <ul>
      <li>æä¾›äº†ä¸€ä¸ªç”¨æ¥å…±æ€§æˆ–è€…æ£€ç´¢çš„ä¸€ä¸ªå¹³å°</li>
      <li>ä¸€æ˜¯æ‰˜ç®¡ node ç¯å¢ƒæˆ–è€…æµè§ˆå™¨ç¯å¢ƒç”¨çš„çš„ä¸€äº›ç¬¬ä¸‰æ–¹åŒ…</li>
    </ul>
  </li>
  <li>æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥ä¸‹è½½ npm ç½‘ç«™ä¸Šæ‰˜ç®¡çš„åŒ…
    <ul>
      <li>CLI: Command Line Interface å‘½ä»¤è¡Œçª—å£</li>
      <li>GUI: å›¾å½¢åŒ–ç•Œé¢</li>
    </ul>
  </li>
</ul>

<h2 id="å®‰è£…-npm">å®‰è£… npm</h2>

<p>Node æ˜¯ä¸€ä¸ªæ‰§è¡Œç¯å¢ƒï¼ŒNode å¯ä»¥ç”¨æ¥æ‰§è¡Œ JavaScript ä»£ç ï¼Œï¼ˆè¿™é‡Œçš„JSæŒ‡çš„æ˜¯ ECMAScriptï¼‰ï¼Œnpm åŸºäº node ç¯å¢ƒçš„ APIï¼ˆç½‘ç»œæ“ä½œAPIã€æ–‡ä»¶æ“ä½œAPIï¼‰ç¼–å†™çš„å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥ä¸‹è½½ç¬¬ä¸‰æ–¹åŒ…åˆ°æŒ‡å®šçš„ç›®å½•ä¸­ã€‚</p>

<p>å¿…é¡»è¦å®‰è£… node ç¯å¢ƒï¼Œæµ‹è¯•æ˜¯å¦æœ‰ node ç¯å¢ƒï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node -v
</code></pre></div></div>

<p>å®‰è£…nodeç¯å¢ƒçš„æ—¶å€™ï¼Œå·²ç»è‡ªåŠ¨å®‰è£…äº† npm å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸éœ€è¦å•ç‹¬å®‰è£…ã€‚å¯ä»¥é€šè¿‡ <code class="language-plaintext highlighter-rouge">npm -v</code> æµ‹è¯•npmæ˜¯å¦å¯ç”¨</p>

<h2 id="npm-åŸºæœ¬ä½¿ç”¨">npm åŸºæœ¬ä½¿ç”¨</h2>

<h3 id="æœ¬åœ°å®‰è£…">æœ¬åœ°å®‰è£…</h3>

<p>ä¸€èˆ¬æ˜¯åœ¨é¡¹ç›®ä¸­ï¼Œå®‰è£…é¡¹ç›®ä½¿ç”¨çš„ä¾èµ–åŒ…ï¼Œä¾‹å¦‚ underscoreã€lessã€jQueryï¼Œå¯ä»¥åœ¨ç»ˆç«¯ä¸­ï¼Œåˆ‡æ¢åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œç„¶åæ‰§è¡Œ <code class="language-plaintext highlighter-rouge">npm install åŒ…å</code>ï¼Œæ¯”å¦‚ï¼š<code class="language-plaintext highlighter-rouge">npm install jquery</code>npm å·¥å…·ä¼šè‡ªåŠ¨å°† jQuery è¿™ä¸ªåŒ…ä¸‹è½½ï¼Œç„¶åæ”¾åˆ° <code class="language-plaintext highlighter-rouge">node_modules</code> ç›®å½•ä¸­ã€‚node_modules ç›®å½•å¦‚æœä¸å­˜åœ¨ä¼šæ–°å»ºï¼Œå¦‚æœå·²å­˜åœ¨ï¼Œåˆ™ç›´æ¥å°†ä¸‹è½½çš„åŒ…æ”¾åˆ°è¯¥ç›®å½•ä¸­ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install [--save] åŒ…å
</code></pre></div></div>

<p>è¿™è¡Œå‘½ä»¤è·ŸåŒ…è¯´æ˜æ–‡ä»¶<code class="language-plaintext highlighter-rouge">package.json</code> æœ‰åƒä¸ä¸‡ç¼•çš„å…³ç³»</p>

<h3 id="åŒ…è¯´æ˜æ–‡ä»¶packagejson">åŒ…è¯´æ˜æ–‡ä»¶ï¼špackage.json</h3>

<p>åŒ…è¯´æ˜æ–‡ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ªäº§å“çš„è¯´æ˜ä¹¦ï¼š<code class="language-plaintext highlighter-rouge">package.json</code> æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶ä¸€èˆ¬åªå­˜åœ¨äºé¡¹ç›®çš„æ ¹è·¯å¾„ä¸‹ï¼Œå®šä¹‰äº†è¿™ä¸ªé¡¹ç›®æ‰€éœ€è¦çš„å„ç§æ¨¡å—ï¼Œä»¥åŠé¡¹ç›®çš„é…ç½®ä¿¡æ¯ï¼ˆæ¯”å¦‚åç§°ã€ç‰ˆæœ¬ã€ä¾èµ–é¡¹ç­‰ä¿¡æ¯ï¼‰ã€‚å¯ä»¥é€šè¿‡ <code class="language-plaintext highlighter-rouge">npm init [-y]</code> å‘½ä»¤ä½¿ç”¨å‘å¯¼çš„å½¢å¼åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</p>

<p>è¯¥æ–‡ä»¶ä¸­æè¿°äº†é¡¹ç›®çš„ä¸€äº›å…ƒæ•°æ®ï¼Œä¾‹å¦‚ <code class="language-plaintext highlighter-rouge">nameã€versionã€author</code> ç­‰ä¿¡æ¯ã€‚</p>

<p>å…¶ä¸­æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„å±æ€§ï¼Œå«åšï¼š<code class="language-plaintext highlighter-rouge">dependencies</code>ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢ä¿å­˜äº†å½“å‰é¡¹ç›®çš„ä¾èµ–é¡¹ï¼Œè¯¥å­—æ®µä¸€èˆ¬ä¸è¦æ‰‹åŠ¨ä¿®æ”¹ï¼Œå®ƒéœ€è¦ç»“åˆ <code class="language-plaintext highlighter-rouge">npm install --save åŒ…å</code> æ¥ä½¿ç”¨ï¼Œåªè¦åœ¨å®‰è£…çš„æ—¶å€™åŠ ä¸Š <code class="language-plaintext highlighter-rouge">--save</code> å‚æ•°å°±ä¼šè‡ªåŠ¨å°†åŒ…ä¾èµ–é¡¹æ·»åŠ åˆ°è¯¥å±æ€§ä¸­ï¼Œå¾ˆæ–¹ä¾¿ã€‚</p>

<p>ç”šè‡³è¿˜å¯ä»¥å®Œå…¨æŠŠ <code class="language-plaintext highlighter-rouge">node_modules</code> ç›®å½•åˆ é™¤æ‰ï¼Œåªè¦ <code class="language-plaintext highlighter-rouge">package.json</code> æ–‡ä»¶è¿˜åœ¨ï¼Œå°±å¯ä»¥æ‰§è¡Œ <code class="language-plaintext highlighter-rouge">npm install</code> å®‰è£…åŒ…è¯´æ˜æ–‡ä»¶ä¸­çš„æ‰€æœ‰çš„ä¾èµ–é¡¹ã€‚æ‰§è¡Œ <code class="language-plaintext highlighter-rouge">npm install</code> å‘½ä»¤çš„æ—¶å€™ï¼Œå®ƒä¼šè‡ªåŠ¨æŸ¥è¯¢å½“å‰ç›®å½•ä¸‹çš„ <code class="language-plaintext highlighter-rouge">package.json</code> æ–‡ä»¶ï¼Œç„¶åæ‰¾åˆ°é‡Œé¢çš„ <code class="language-plaintext highlighter-rouge">dependencies</code> å±æ€§ï¼Œä¾æ¬¡ä¸‹è½½åˆ° <code class="language-plaintext highlighter-rouge">node_modules</code> ç›®å½•ä¸‹ã€‚</p>

<p>å»ºè®®ï¼šä»¥åä½¿ç”¨ npm çš„æ—¶å€™ï¼Œé¦–å…ˆç”¨ <code class="language-plaintext highlighter-rouge">npm init -y</code> åˆå§‹åŒ–ä¸€ä¸ª <code class="language-plaintext highlighter-rouge">package.json</code>ï¼Œ ç„¶åä½¿ç”¨ <code class="language-plaintext highlighter-rouge">npm install åŒ…å --save</code></p>

<p>æ€»çš„æ¥è®²ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼Œé‡è¦ç»„æˆï¼š</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">npm init [-y]</code></li>
  <li>main</li>
  <li>dependencies
    <ul>
      <li>å½“å‰é¡¹ç›®æˆ–è€…è¯´åŒ…çš„ä¾èµ–é¡¹</li>
      <li>npm install çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„ package.json æ–‡ä»¶ä¸­çš„ dependencies å±æ€§</li>
      <li>ç„¶åä¾æ¬¡ä¸‹è½½</li>
    </ul>
  </li>
</ul>

<h3 id="æœ¬åœ°å®‰è£…å¸¸ç”¨å‘½ä»¤">æœ¬åœ°å®‰è£…å¸¸ç”¨å‘½ä»¤</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd Desktop\code`
`npm init`
`cls` æ¸…å±
`npm install bootstrap --save`
`npm install --save jquery`
`npm install
</code></pre></div></div>

<h3 id="å…¨å±€å®‰è£…">å…¨å±€å®‰è£…</h3>

<p>å…¨å±€å®‰è£…ï¼š ä¸€èˆ¬ç”¨äºå®‰è£…ä¸€äº›å‘½ä»¤è¡Œå·¥å…·ï¼ˆè¿™äº›å·¥å…·ä¹Ÿæ˜¯åŸºäºNodeå¼€å‘çš„ï¼‰å…¨å±€å®‰è£…ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">npm install --global åŒ…åï¼ˆå·¥å…·åï¼‰</code>ï¼Œåœ¨ä»»æ„ç›®å½•æ‰§è¡Œè¯¥å‘½ä»¤éƒ½å¯ä»¥ã€‚</p>

<p>æ¯”å¦‚ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i -g less
npm install -g less
</code></pre></div></div>

<h4 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</h4>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm help</code> æŸ¥çœ‹ npm å‘½ä»¤åˆ—è¡¨</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm -l</code> æŸ¥çœ‹å„ä¸ªå‘½åçš„ç®€å•ç”¨æ³•</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm -v</code> æŸ¥çœ‹ npm çš„ç‰ˆæœ¬</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm root -g</code> æŸ¥çœ‹å…¨å±€åŒ…å®‰è£…ç›®å½•ã€‚</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm init [-y]</code>ï¼šåˆå§‹åŒ–ä¸€ä¸ª package.json æ–‡ä»¶</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm info</code> åŒ…å [å­—æ®µå]ï¼šæŸ¥çœ‹æŒ‡å®šæ¨¡å—çš„ package.json ä¿¡æ¯</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm search</code> åŒ…åï¼šè¯¥å‘½ä»¤ç”¨äºæœç´¢ npm ä»“åº“</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm list</code> ä»¥æ ‘å‹ç»“æ„åˆ—å‡ºå½“å‰é¡¹ç›®å®‰è£…çš„æ‰€æœ‰æ¨¡å—ï¼Œä»¥åŠå®ƒä»¬ä¾èµ–çš„æ¨¡å—</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm list</code> åŒ…åï¼šåˆ—å‡ºå•ä¸ªæ¨¡å—</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm list -g</code> åˆ—å‡ºå…¨å±€å®‰è£…çš„æ¨¡å—</p>
  </li>
  <li>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install [--save] åŒ…å[#ç‰ˆæœ¬å·]
</code></pre></div>    </div>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">npm install åŒ…å</code> å®‰è£…åŒ…åˆ°å½“å‰é¡¹ç›®ä¸‹çš„ node_modules ç›®å½•ä¸‹</li>
      <li><code class="language-plaintext highlighter-rouge">npm install|i --save|-S åŒ…å</code> å®‰è£…åŒ…çš„åŒæ—¶æŠŠä¾èµ–é¡¹ä¿å­˜åˆ° åŒ…è¯´æ˜æ–‡ä»¶ä¸­</li>
      <li>æœ¬åœ°é¡¹ç›®å®‰è£…ï¼šç›®çš„æ˜¯ä¸ºäº†è¾…åŠ©ä½ çš„ä»£ç åŠŸèƒ½å¼€å‘</li>
    </ul>
  </li>
  <li>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm uninstall [--save] åŒ…å
</code></pre></div>    </div>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">npm uninstall åŒ…å</code> åˆ é™¤åŒ…ï¼Œä½†æ˜¯å¦‚æœåŒ…è¯´æ˜æ–‡ä»¶ä¸­æœ‰ä¾èµ–é¡¹ï¼Œé‚£ä¹ˆä¸ä¼šåˆ é™¤</li>
      <li><code class="language-plaintext highlighter-rouge">npm uninstall --save åŒ…å</code> åˆ é™¤åŒ…ï¼ŒåŒæ—¶å°† package.json æ–‡ä»¶ä¸­çš„ä¾èµ–é¡¹ä¹Ÿåˆ é™¤</li>
    </ul>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm install</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm install -g åŒ…å</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm uninstall -g åŒ…å</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm install -g http-server --registry=http://192.168.32.59:7001</code> è®¾ç½®æœåŠ¡å™¨é•œåƒæºåœ°å€</p>
  </li>
  <li>
    <p>npm config</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">npm config list</code> æŸ¥çœ‹ npm é…ç½®é¡¹</li>
      <li><code class="language-plaintext highlighter-rouge">npm config set init.author.name $name</code> ä½¿ç”¨ npm init æ—¶ï¼Œé»˜è®¤çš„ name</li>
      <li><code class="language-plaintext highlighter-rouge">npm config set init.author.email $email</code> ä½¿ç”¨ npm init æ—¶ï¼Œé»˜è®¤çš„ email</li>
      <li><code class="language-plaintext highlighter-rouge">npm congig set prefix "è·¯å¾„"</code> æ”¹å˜å…¨å±€åŒ…å®‰è£…è·¯å¾„</li>
      <li><code class="language-plaintext highlighter-rouge">npm config set registry</code> â€œé•œåƒè·¯å¾„â€</li>
    </ul>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">http-server</code> å¼€å¯æœåŠ¡å™¨</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">http-server-o</code> å¼€å¯æœåŠ¡å™¨å¹¶ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€</li>
</ul>

<h2 id="å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨">å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install -g http-server
</code></pre></div></div>

<p>ç„¶åéœ€è¦æ‰“å¼€æ–‡ä»¶çš„ç›®å½•ä¸‹ï¼Œæ‰“å¼€ç»ˆç«¯ï¼šè¾“å…¥ <code class="language-plaintext highlighter-rouge">http-server</code>ï¼Œè¿™æ ·å¯åŠ¨äº†é»˜è®¤ç«¯å£æ˜¯ 8080ï¼Œ<code class="language-plaintext highlighter-rouge">http-server -p 6060</code> æŒ‡å®šæœåŠ¡å™¨çš„ç«¯å£ã€‚</p>

<h2 id="å¦‚ä½•å°†åŒ…å‘å¸ƒåˆ°-npm-ç½‘ç«™ä¸Šå¹¶ä¸”é€šè¿‡-npm-install---global-åŒ…å-å®‰è£…">å¦‚ä½•å°†åŒ…å‘å¸ƒåˆ° npm ç½‘ç«™ä¸Šå¹¶ä¸”é€šè¿‡ <code class="language-plaintext highlighter-rouge">npm install --global åŒ…å</code> å®‰è£…</h2>

<h3 id="é…ç½®åŸç†">é…ç½®åŸç†</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">npm root -g</code></li>
  <li>æ¨¡æ‹Ÿè¯¥ç›®å½•ä¸‹ nrm ä¸‹çš„ cli.js (å…¥å£æ–‡ä»¶) æ–‡ä»¶ä¸­ï¼Œåœ¨ç¬¬ä¸€è¡ŒåŠ å…¥äº† <code class="language-plaintext highlighter-rouge">#!/usr/bin/env node</code></li>
  <li>å¾—åˆ°è·¯å¾„ï¼š<code class="language-plaintext highlighter-rouge">C:\Users\mhq\AppData\Roaming\npm\node_modules</code></li>
  <li>åœ¨æ­¤è·¯å¾„ä¸‹æ–°å»º ä»¥ éœ€è¦å‘å¸ƒçš„åŒ…çš„åŒ…åå‘½åçš„æ–‡ä»¶ï¼š æ¯”å¦‚ <code class="language-plaintext highlighter-rouge">mCopy</code>;</li>
  <li>å°†æ‰€éœ€è¦å‘å¸ƒçš„ js æ–‡ä»¶æ”¾åˆ°è¿™ä¸ªæ–‡ä»¶ä¸‹ï¼Œ æ¯”å¦‚ <code class="language-plaintext highlighter-rouge">08_copy.js</code>;</li>
  <li>åœ¨è¯¥æ–‡ä»¶çš„ä¸Šä¸€çº§ç›®å½•ä¸‹ï¼Œ<code class="language-plaintext highlighter-rouge">C:\Users\mhq\AppData\Roaming\npm</code> ä¸‹ï¼Œå¤åˆ¶ä¸€ä¸ª nrm.cmd å‰¯æœ¬</li>
  <li>é‡ååè¯¥å‰¯æœ¬æ–‡ä»¶ä¸º <code class="language-plaintext highlighter-rouge">mCopy.cmd</code>, ç°åœ¨è¿™ä¸ªæ–‡ä»¶é•¿è¿™æ ·ï¼š</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@IF EXIST "%~dp0\node.exe" (
  "%~dp0\node.exe"  "%~dp0\node_modules\nrm\cli.js" %*
) ELSE (
  @SETLOCAL
  @SET PATHEXT=%PATHEXT:;.JS;=;%
  node  "%~dp0\node_modules\nrm\cli.js" %*
)
</code></pre></div></div>

<p>é…ç½®å®Œè¿™ä¸€æ­¥ä¹‹åå°±å¯ä»¥åœ¨ cmd ä¸­ç›´æ¥ä½¿ç”¨ mCopy src des å‘½ä»¤æ¥å¤åˆ¶æ–‡ä»¶äº†</p>

<h3 id="node-æä¾›äº†ä¸€ä¸ªæ›´æ–¹ä¾¿çš„æ–¹å¼è‡ªåŠ¨ç”Ÿæˆ-cmd-æ–‡ä»¶ä»¥åŠå’Œéœ€è¦å‘å¸ƒçš„æ–‡ä»¶äº§ç”Ÿå…³è”">node æä¾›äº†ä¸€ä¸ªæ›´æ–¹ä¾¿çš„æ–¹å¼è‡ªåŠ¨ç”Ÿæˆ .cmd æ–‡ä»¶ä»¥åŠå’Œéœ€è¦å‘å¸ƒçš„æ–‡ä»¶äº§ç”Ÿå…³è”</h3>

<ul>
  <li>ç°åœ¨å°†åŸç†ä¸­ä»‹ç»çš„è¿‡ç¨‹äº§ç”Ÿçš„æ–‡ä»¶åˆ é™¤ï¼Œé‡æ–°ä½¿ç”¨ Node æ–¹å¼é…ç½®</li>
  <li>åœ¨æ¡Œé¢æ–°å»º <code class="language-plaintext highlighter-rouge">mCopy</code> æ–‡ä»¶</li>
  <li>win+R â€“&gt; cmd â€“&gt; cd Desktop â€“&gt; cd mCopy</li>
  <li>æ–°å»ºä¸€ä¸ª .js çš„å…¥å£æ–‡ä»¶ï¼Œåœ¨ç¬¬ä¸€è¡ŒåŠ å…¥äº† <code class="language-plaintext highlighter-rouge">#!/usr/bin/env node</code>ï¼Œè¿™å«è®¾ç»‘ï¼›</li>
  <li>åœ¨ package.json æ–‡ä»¶ä¸­åŠ å…¥ bin å­—æ®µï¼Œ
    <ul>
      <li>bin å­—æ®µæ˜¯ä¸€ä¸ªå¯¹è±¡</li>
      <li>è¯¥å¯¹è±¡çš„ç¬¬ä¸€ä¸ªå±æ€§å°±æ˜¯æ‰§è¡Œè„šæœ¬æ–‡ä»¶çš„å‘½ä»¤ï¼Œ æ¯”å¦‚ â€œmCopyâ€ï¼Œç”¨æ¥ç”Ÿæˆ .cmd æ–‡ä»¶</li>
      <li>è¯¥å¯¹è±¡çš„ç¬¬ä¸€ä¸ªå±æ€§çš„å€¼å°±æ˜¯è¦æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶</li>
    </ul>
  </li>
</ul>

<p>package.json æ–‡ä»¶å¦‚ä¸‹ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "name": "mcopy",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "bin": {
    "mcopy": "./index.js"
  },
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC"
}
</code></pre></div></div>

<ul>
  <li>
    <p>æœ€åï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥å½“å‰é¡¹ç›®çš„æ ¹è·¯å¾„ï¼Œæ‰§è¡Œï¼š</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm link
</code></pre></div>    </div>

    <ul>
      <li>æ‰§è¡Œå®Œè¯¥å‘½ä»¤ä¹‹åï¼Œ node ä¼šè‡ªåŠ¨å»å…¨å±€å®‰è£…åˆ›å»ºè·¯å¾„å¯¹åº”çš„ .cmd æ–‡ä»¶</li>
      <li>è¿™æ ·å°±å¼€å‘äº†å‘½ä»¤è¡Œå·¥å…·</li>
      <li>å¦‚æœæƒ³å¸è½½æ‰ï¼Œä½¿ç”¨å‘½ä»¤ <code class="language-plaintext highlighter-rouge">npm unlink</code></li>
      <li>æ–°å»ºä¸€ä¸ª .js æ–‡ä»¶ï¼Œå°†éœ€è¦å‘å¸ƒçš„åŒ…çš„ä»£ç æ”¾è¿›å»ï¼›æ¯”å¦‚ï¼š<code class="language-plaintext highlighter-rouge">copy.js</code></li>
    </ul>
  </li>
</ul>

<p>copy.js æ–‡ä»¶</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>const fs = require('fs');
// æš´éœ²æ¥å£
module.exports = function (src, des, callback) {
    fs.readFile(src, (err, data) =&gt; {
        if (err) {
            return callback(err);
        }
        fs.writeFile(des, data, err =&gt; {
            return callback(err);
        });
        callback(null);
    });
};
</code></pre></div></div>

<p>index.js æ–‡ä»¶</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/usr/bin/env node
const copy = require('./copy');
const args = process.argv.slice(2);
console.log(args);
copy(args[0], args[1], err =&gt; {
  if (err) {
    return console.log('Copy Fail');
  }
  console.log('Copy Success');
});
</code></pre></div></div>

<ul>
  <li>å‘å¸ƒ
    <ul>
      <li>å‘å¸ƒä¹‹å‰å…ˆå» npmjs.com ä¸ŠéªŒè¯ä¸€ä¸‹ä½ çš„ package.json ä¸­çš„ name æ˜¯å¦è¢«å ç”¨</li>
      <li>å¦‚æœè¢«å ç”¨ï¼Œåˆ™ä¿®æ”¹ name</li>
      <li>æ³¨æ„ï¼šæ”¹äº†åå­—ä¹‹åå°±æ— æ³•å¸è½½ã€‚
        <ul>
          <li>ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥åˆ æ‰</li>
          <li>ä¸€ç§æ–¹å¼æ˜¯æŠŠ package.json æ–‡ä»¶ä¸‹çš„ name æ”¹å›åŸæ¥çš„ç„¶åå†ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">npm unlink</code> å¸è½½</li>
          <li>ç„¶åæŠŠ name æ”¹æˆçº¿ä¸Šæ²¡æœ‰çš„åå­—</li>
        </ul>
      </li>
      <li>å» <a href="https://www.npmjs.com/">www.npmjs.com</a> å®˜ç½‘æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œæˆ–è€…é€šè¿‡ npm adduser æ³¨å†Œä¸€ä¸ªè´¦æˆ·</li>
      <li>æ³¨æ„ï¼šè¿™é‡Œä¸€å®šè¦ç¡®ä¿ä½¿ç”¨çš„é•œåƒæºåœ°å€æ˜¯ npm å®˜æ–¹çš„é•œåƒæº</li>
      <li><code class="language-plaintext highlighter-rouge">npm login</code> ç™»é™†</li>
      <li><code class="language-plaintext highlighter-rouge">npm publish</code> å‘å¸ƒ</li>
      <li>æ”¯æŒ README.md æ–‡æ¡£
        <ul>
          <li>æ·»åŠ æ–‡æ¡£ä¹‹åå†å‘å¸ƒ</li>
          <li>éœ€è¦æ›´æ–° package.json ä¸­çš„ç‰ˆæœ¬å·</li>
          <li>ä¿®æ”¹ package.json ä¸‹çš„ <code class="language-plaintext highlighter-rouge">"description"</code> ä¸º â€œA copy tool of a command lineâ€,`</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">npm version patch</code> æ›´æ–°</li>
      <li><code class="language-plaintext highlighter-rouge">npm install -g hqcopy</code> å…¨å±€å®‰è£…åˆ°æœ¬åœ°</li>
      <li><code class="language-plaintext highlighter-rouge">npm unpublish</code> åˆ é™¤</li>
    </ul>
  </li>
</ul>

<h3 id="install-è¯´æ˜æ–‡æ¡£-readmemd">Install è¯´æ˜æ–‡æ¡£ README.md</h3>

<p>h1 hqcopy</p>

<p>h2 Install</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install --global mcopy
</code></pre></div></div>

<p>h3 Usage</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ mcopy src des
</code></pre></div></div>

<h3 id="å°†è¿™ä¸ªåŒ…æ”¹é€ ä¸ºæœ¬åœ°å’Œå…¨å±€ä¸¤ç§å½¢å¼">å°†è¿™ä¸ªåŒ…æ”¹é€ ä¸ºæœ¬åœ°å’Œå…¨å±€ä¸¤ç§å½¢å¼</h3>

<p>ä½œä¸ºå‘½ä»¤è¡Œ å’Œ é¡¹ç›®å®‰è£…</p>

<p>å³ï¼šåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œçš„æ˜¯ï¼š index.jsï¼Œè€Œåœ¨ä»£ç ä¸­æ‰§è¡Œçš„æ˜¯ï¼š copy.jsï¼Œå› æ­¤ï¼Œæœ‰ä»¥ä¸‹æ“ä½œï¼š</p>

<ul>
  <li>å°† package.json åŒ…ä¸‹çš„ â€œmainâ€ æ”¹æˆ â€œcopy.jsâ€</li>
  <li>å°†å·²ä¸Šä¼ çš„ hqcopy ä¸‹è½½åˆ°æœ¬åœ°é¡¹ç›®ä¸­ï¼Œ</li>
  <li>æ‰“å¼€ä¹‹åå‘ç° package.json æ–‡ä»¶ä¸­çš„ main å±æ€§æ˜¯ â€œindex.jsâ€</li>
  <li>å½“å‰é¡¹ç›®ä¸‹ æ–°å»º .js æ–‡ä»¶, ç„¶åä½¿ç”¨ä¸‹é¢ä»£ç å¼•å…¥ï¼Œç›®å‰åªé™é”™è¯¯</li>
  <li>å› ä¸ºç›®å‰åªèƒ½å½“åšå‘½ä»¤è¡Œä½¿ç”¨</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>const hqcopy = require('hqcopy');
</code></pre></div></div>

<ul>
  <li>åŠ è½½æœºåˆ¶ï¼Œé¦–å…ˆå»å½“å‰é¡¹ç›®çš„ node_modules,</li>
  <li>æ‰¾åˆ° hqcopyï¼Œ</li>
  <li>æ‰¾åˆ° package.json æ–‡ä»¶</li>
  <li>æ‰¾åˆ° main å±æ€§ï¼Œå‘ç°æ˜¯ index.js</li>
  <li>åº”å½“åˆ¤æ–­æ˜¯å…¨å±€å‘½ä»¤è¡Œè°ƒç”¨ï¼Œè¿˜æ˜¯ä»£ç è°ƒç”¨</li>
  <li>ä¿®æ”¹ package.json æ–‡ä»¶çš„ <code class="language-plaintext highlighter-rouge">main</code> å±æ€§ä¸º copy.js, è¿™æ ·ï¼Œå¦‚æœæ˜¯ä»£ç è°ƒç”¨ï¼Œé»˜è®¤è°ƒç”¨ copy.jsæ–‡ä»¶</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "name": "hqcopy",
  "version": "1.0.2",
  "description": "A copy tool of a command line",
  "main": "copy.js",
  "bin": {
    "mcopy": "./index.js"
  },
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC"
}
</code></pre></div></div>

<ul>
  <li>npm version patch</li>
  <li>npm publish</li>
</ul>

<p>æ–°å»º test.js è¿›è¡Œæµ‹è¯•</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">npm install --save hqcopy</code></li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>const hqcopy = require('hqcopy');
hqcopy('README.md','a.md', err =&gt; {
  if (err) {
    throw err;
  }
  console.log('copy success');
});
</code></pre></div></div>

<p>ç°åœ¨çš„è¿™ä¸ªåŒ…å°±æ—¢å¯ä»¥å®‰è£…åˆ°æœ¬åœ°ä¹Ÿå¯ä»¥å…¨å±€å®‰è£…ï¼Œå®‰è£…åˆ°æœ¬åœ°é¡¹ç›®å¯ä»¥ä½¿ç”¨è¯¥åŒ…æš´éœ²çš„ API æ¥å£ï¼Œå®‰è£…åˆ°å…¨å±€å°±å¯ä»¥ä½¿ç”¨è¯¥åŒ…æä¾›çš„å…¨å±€å‘½ä»¤å·¥å…·ã€‚</p>

<h2 id="è§£å†³-npm-è¢«å¢™çš„é—®é¢˜ä½¿ç”¨é•œåƒæºåœ°å€">è§£å†³ npm è¢«å¢™çš„é—®é¢˜ï¼Œä½¿ç”¨é•œåƒæºåœ°å€</h2>

<p>å›½å†…çš„æ·˜å®ï¼šå…‹éš†äº†å›½å¤–çš„æœåŠ¡å™¨ï¼Œè·Ÿå›½å¤–çš„ npm æ¯10åˆ†é’Ÿä¿æŒåŒæ­¥ä¸€æ¬¡ï¼›</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">npm install åŒ…å --registry=https://registry.npm.taobao.org</code> å›½å†…æ·˜å®é•œåƒæºåœ°å€</p>
  </li>
  <li>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm config set registry=https://registry.npm.taobao.org
</code></pre></div>    </div>

    <ul>
      <li>
        <p>è¿™æ˜¯å°† npm çš„ä¸‹è½½é•œåƒæºåœ°å€æ”¹ä¸ºæ·˜å®çš„ cpnm é•œåƒæº</p>
      </li>
      <li>
        <p>è¿™æ ·æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œä»¥åæ‰€æœ‰çš„ install éƒ½ä¼šé€šè¿‡æŒ‡å®šçš„åœ°å€ä¸‹è½½</p>
      </li>
      <li>
        <p>è¿˜æä¾›äº† cnpm å‘½ä»¤</p>
      </li>
      <li>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install -g cnpm
</code></pre></div>        </div>

        <ul>
          <li>å®‰è£…äº† cnpm ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨ cnmp å‘½ä»¤å®‰è£…å’Œç®¡ç†åŒ…äº†</li>
          <li>cnpm é»˜è®¤ å°±ä¼šèµ°æ·˜å®çš„ npm é•œåƒæºåœ°å€</li>
          <li><code class="language-plaintext highlighter-rouge">cnpm install -g åŒ…å</code></li>
          <li><code class="language-plaintext highlighter-rouge">cnpm install åŒ…å</code></li>
          <li>npm çš„å‘½ä»¤éƒ½å¯ä»¥é€šè¿‡ cnpm æ¥ä»£æ›¿</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>å®é™…ä¸Šï¼Œåœ¨ç”¨æˆ·ç›®å½•ä¸‹ç”Ÿæˆäº†.npmrc æ–‡ä»¶ï¼Œä¿å­˜äº†é•œåƒæºåœ°å€</p>
  </li>
  <li>
    <p>è¿˜æœ‰ä¸€ä¸ªå·¥å…·ï¼Œå¦‚æœåœ¨å±€åŸŸç½‘å†…ï¼Œå±€åŸŸç½‘çš„åŒ…ï¼Œè¿™æ ·åˆéœ€è¦æ”¹é•œåƒæºåœ°å€ï¼š</p>

    <ul>
      <li>
        <p>å®‰è£…å’Œç®¡ç†å¤šä¸ªé•œåƒæºåœ°å€</p>
      </li>
      <li>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install -g nrm
</code></pre></div>        </div>

        <p>ä¸‹è½½å®‰è£…</p>

        <ul>
          <li>nrm å³ nmp registry manager</li>
          <li>nrm å¯ä»¥ç”¨æ¥ç®¡ç†å¤šä¸ªé•œåƒæºåœ°å€ï¼Œåˆ‡æ¢å¤šä¸ªé•œåƒæºåœ°å€</li>
          <li>nrm æ˜¯åŸºäº node å¼€å‘çš„</li>
          <li><code class="language-plaintext highlighter-rouge">nrm ls</code> åˆ—å‡ºæ‰€æœ‰çš„é•œåƒæºåœ°å€</li>
          <li><code class="language-plaintext highlighter-rouge">nrm current</code> æ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„é•œåƒæºåœ°å€</li>
          <li><code class="language-plaintext highlighter-rouge">nrm use é•œåƒæºåç§°</code> åˆ‡æ¢åˆ°æŒ‡å®šçš„é•œåƒæºåœ°å€</li>
          <li><code class="language-plaintext highlighter-rouge">nrm add é•œåƒæºåç§° é•œåƒæºåœ°å€</code> æ·»åŠ æŒ‡å®šçš„é•œåƒæºåœ°å€</li>
          <li><code class="language-plaintext highlighter-rouge">nrm del é•œåƒæºåç§°</code> ä»æœ¬åœ°åˆ é™¤æŒ‡å®šçš„é•œåƒæºåœ°å€</li>
          <li>é…ç½®æ–‡ä»¶éƒ½åœ¨ç”¨æˆ·ç›®å½•ä¸‹ï¼Œå« .nrmrcï¼Œ ç›´æ¥ä¿®æ”¹æ­¤æ–‡ä»¶ä¹Ÿå¯é…ç½®ï¼›</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="é…ç½®-packagejson-æ–‡ä»¶ä¸­çš„-script">é…ç½® package.json æ–‡ä»¶ä¸­çš„ script</h2>

<p>åœ¨package.json æ–‡ä»¶ä¸­çš„ â€œscriptâ€ ä¸‹ æ·»åŠ ä¸€æ¡éœ€è¦ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">npm å‘½ä»¤</code> æ¥å¯åŠ¨é¡¹ç›®ç¨‹åºçš„å±æ€§ï¼Œ æ¯”å¦‚ï¼š <code class="language-plaintext highlighter-rouge">"start": node ./app.js</code></p>

<p>è¿™æ ·å°±å¯ä»¥åˆ©ç”¨ç»ˆç«¯ï¼Œä½¿ç”¨å‘½ä»¤ <code class="language-plaintext highlighter-rouge">npm start</code> æ¥å¯åŠ¨é¡¹ç›®ã€‚</p>

<h2 id="é¡¹ç›®åˆå§‹åŒ–">é¡¹ç›®åˆå§‹åŒ–</h2>

<p>åˆ©ç”¨å‘½ä»¤è‡ªåŠ¨åŒ–ç®¡ç†</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">npm install</code></li>
  <li><code class="language-plaintext highlighter-rouge">npm install --save-dev brower-sync</code> ç›´æ¥æŠŠå¼€å‘ä¾èµ–å†…ç½®,æŠŠå®‰è£…åˆ°é¡¹ç›®ä¾èµ–ä¸­.</li>
  <li>æ‰¾åˆ° <code class="language-plaintext highlighter-rouge">package.json</code>ï¼Œåœ¨ <code class="language-plaintext highlighter-rouge">"scripts"</code> å­—æ®µä¸­æ·»åŠ : <code class="language-plaintext highlighter-rouge">"start": "hs -o"</code></li>
  <li>æ‰¾åˆ° <code class="language-plaintext highlighter-rouge">package.json</code>ï¼Œåœ¨ <code class="language-plaintext highlighter-rouge">"scripts"</code> å­—æ®µä¸‹æ·»åŠ <code class="language-plaintext highlighter-rouge">"dev": "hs -o"</code>ï¼Œ<code class="language-plaintext highlighter-rouge">"postinstall": "npm run dev"</code>ï¼Œç„¶åè‡ªåŠ¨æ‰§è¡Œã€‚</li>
  <li><code class="language-plaintext highlighter-rouge">npm run dev</code></li>
  <li>é‚£ä¹ˆï¼ŒæœåŠ¡å™¨çš„å¼€å¯è¿‡ç¨‹å°±æ˜¯ï¼š .bin ç›®å½•ä¸‹ hs æ‰§è¡Œ node-modules ä¸‹çš„ http-serverã€‚</li>
</ul>

<p>package.json æ–‡ä»¶ä¸­çš„é…ç½®ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "script":{
    "prestart": "npm install"
    "start": "hs -o"
    "dev":"hs -o"
    "postinstall":""
  }
}
</code></pre></div></div>

<p>å¦å¤–ä¸€ç§é…ç½® <code class="language-plaintext highlighter-rouge">package.json</code> å¯åŠ¨é¡¹ç›®çš„æ–¹æ³•</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "scripts": {
    "prestart": "npm install",
    "start": "hs -o",
    "predev": "npm install",
    "dev": "hs -o"
  }
}
</code></pre></div></div>

<p>æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼</p>
:ET