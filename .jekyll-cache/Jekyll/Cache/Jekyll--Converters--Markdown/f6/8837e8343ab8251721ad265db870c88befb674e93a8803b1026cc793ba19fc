I"<h1 id="ä½¿ç”¨ffmpegå¤„ç†éŸ³è§†é¢‘"><a href="https://www.jianshu.com/p/2a824f13b2af">ä½¿ç”¨FFmpegå¤„ç†éŸ³è§†é¢‘</a></h1>

<h3 id="æ¨ªå‘åˆå¹¶è§†é¢‘">æ¨ªå‘åˆå¹¶è§†é¢‘</h3>

<p><strong>ffmpeg -i input1.mp4 -i input2.mp4 -lavfi hstack output.mp4</strong></p>

<p>ä¸Šé¢çš„å‘½ä»¤è™½ç„¶å¯ä»¥åˆå¹¶è§†é¢‘ï¼Œä¸¤ä¸ªè§†é¢‘å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œä½†æ˜¯åªä¿ç•™äº†å‰é¢ä¸€ä¸ªçš„éŸ³é¢‘ã€‚
 ä¸‹é¢ä¼šä»‹ç»æ€ä¹ˆé¿å¼€è¿™ä¸ªå‘ã€‚</p>

<p>æ³¨æ„è¿™æ—¶å€™input1å’Œinput2å¿…é¡»åŒæ ·çš„é«˜åº¦ï¼Œå¦‚æœä¸ä¸€æ ·çš„é«˜åº¦å¯ä»¥ä½¿ç”¨-shortestå‚æ•°æ¥ä¿è¯åŒæ ·çš„é«˜åº¦ã€‚</p>

<p>å¦‚æœå¸Œæœ›åˆå¹¶å¤šä¸ªè§†é¢‘ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤è¡Œã€‚
 <strong>ffmpeg -i input1.mp4 -i input2.mp4 -i input3.mp4 -lavfi hstack=inputs=3 output.mp4</strong>
 å…¶ä¸­input=3è¡¨ç¤ºå¸Œæœ›åˆå¹¶çš„è§†é¢‘çš„ä¸ªæ•°</p>

<h3 id="çºµå‘åˆå¹¶è§†é¢‘">çºµå‘åˆå¹¶è§†é¢‘</h3>

<p><strong>ffmpeg -i input1.mp4 -i input2.mp4 -lavfi vstack output.mp4</strong></p>

<h3 id="ç½‘æ ¼åˆå¹¶è§†é¢‘">ç½‘æ ¼åˆå¹¶è§†é¢‘</h3>

<p>å½“å¤šä¸ªè§†é¢‘æ—¶ï¼Œè¿˜å¯ä»¥åˆå¹¶æˆç½‘æ ¼çŠ¶ï¼Œæ¯”å¦‚2x2ï¼Œ3x3è¿™ç§ã€‚ä½†æ˜¯è§†é¢‘ä¸ªæ•°ä¸ä¸€å®šéœ€è¦æ˜¯å¶æ•°ï¼Œå¦‚æœæ˜¯å¥‡æ•°ï¼Œå¯ä»¥ç”¨é»‘è‰²å›¾ç‰‡æ¥å ä½ã€‚</p>

<p><strong>ffmpeg -f lavfi -i color=c=black:s=1280x720 -vframes 1 black.png</strong>
 è¯¥å‘½ä»¤å°†åˆ›å»ºä¸€å¼ 1280*720çš„å›¾ç‰‡</p>

<p>ç„¶åå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªå‘½ä»¤æ¥åˆå¹¶æˆç½‘æ ¼è§†é¢‘äº†ï¼Œå¦‚æœåªæœ‰ä¸‰ä¸ªè§†é¢‘ï¼Œå¯ä»¥é€‰æ‹©ä¸Šé¢åˆ›å»ºçš„é»‘è‰²å›¾ç‰‡æ›¿ä»£ã€‚
 <strong>ffmpeg -i top_left.mp4 -i top_right.mp4 -i bottom_left.mp4 -i bottom_right.mp4 <br />
 -lavfi â€œ[0:v][1:v]hstack[top];[2:v][3:v]hstack[bottom];[top][bottom]vstackâ€ 
 -shortest 2by2grid.mp4</strong></p>

<p>ä¸Šé¢åˆ›å»ºçš„æ˜¯æ­£è§„çš„2x2ç½‘æ ¼è§†é¢‘ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œç°åœ¨åªæœ‰ä¸‰ä¸ªè§†é¢‘ï¼Œæˆ‘æƒ³æŠŠç¬¬ä¸€ä¸ªè§†é¢‘æ‘†æ”¾åœ¨ç¬¬ä¸€è¡Œçš„ä¸­é—´ï¼Œç„¶åæŠŠç¬¬äºŒã€ä¸‰ä¸ªè§†é¢‘æ‘†æ”¾åœ¨ç¬¬äºŒè¡Œã€‚é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸¤ä¸ªå‘½ä»¤äº†ã€‚</p>

<p><strong>ffmpeg -f lavfi -i color=c=black:s=640x720 -vframes 1 black.png</strong></p>

<p><strong>ffmpeg -i black.png -i top_center.mp4 -i bottom_left.mp4 -i bottom_right.mp4 
 -lavfi â€œ[0:v][1:v][0:v]hstack=inputs=3[top];[2:v][3:v]hstack[bottom];[top][bottom]vstackâ€ 
 -shortest 3_videos_2x2_grid.mp4</strong></p>

<h4 id="åˆå¹¶éŸ³é¢‘å’Œè§†é¢‘">åˆå¹¶éŸ³é¢‘å’Œè§†é¢‘</h4>

<p><strong>ffmpeg -i video.mp4 -i audio.wav  -c:v copy -c:a aac -strict experimental output.mp4</strong></p>

<p>å¦‚æœè§†é¢‘ä¸­å·²ç»åŒ…å«äº†éŸ³é¢‘ï¼Œè¿™ä¸ªæ—¶å€™è¿˜å¯ä»¥æ›¿æ¢è§†é¢‘ä¸­çš„éŸ³é¢‘ï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤è¡Œã€‚
 <strong>ffmpeg -i video.mp4 -i audio.wav -c:v copy -c:a aac -strict experimental 
 -map 0:v:0 -map 1:a:0 output.mp4</strong></p>

<h4 id="åˆå¹¶ä¸¤ä¸ªéŸ³é¢‘">åˆå¹¶ä¸¤ä¸ªéŸ³é¢‘</h4>

<p><strong>ffmpeg -i input1.mp3 -i input2.mp3 -filter_complex amerge -ac 2 -c:a libmp3lame -q:a 4 output.mp3</strong></p>

<h4 id="è·å–è§†é¢‘ä¸­çš„éŸ³é¢‘">è·å–è§†é¢‘ä¸­çš„éŸ³é¢‘</h4>

<p><strong>ffmpeg -i input.mp4 -vn -y -acodec copy output.m4a</strong></p>

<h4 id="å»æ‰è§†é¢‘ä¸­çš„éŸ³é¢‘">å»æ‰è§†é¢‘ä¸­çš„éŸ³é¢‘</h4>

<p><strong>ffmpeg -i input.mp4 -an output.mp4</strong></p>

<p>ç°åœ¨ä»‹ç»ï¼Œæ€ä¹ˆåˆå¹¶ä¸¤ä¸ªè§†é¢‘å¹¶ä¿ç•™ä¸¤ä¸ªè§†é¢‘ä¸­çš„éŸ³é¢‘ã€‚ä¹Ÿå°±æ˜¯æŠ–éŸ³ä¸­çš„åˆæ‹åŠŸèƒ½ã€‚
 1.åˆå¹¶ä¸¤ä¸ªè§†é¢‘ï¼Œä½†æ˜¯å‘ç°åªæœ‰ä¸€ä¸ªå£°éŸ³ã€‚æ— æ‰€è°“ã€‚
 2.æŠ½å–ä¸¤ä¸ªè§†é¢‘ä¸­çš„éŸ³é¢‘ï¼Œç„¶ååˆå¹¶æˆä¸€ä¸ªéŸ³é¢‘ã€‚
 3.å°†è¿™ä¸ªéŸ³é¢‘æ›¿æ¢åˆ°ä¹‹å‰çš„åˆå¹¶è§†é¢‘ä¸­ã€‚
 4.okäº†ã€‚
 5.å¯ä»¥ä½¿ç”¨ffplayæ’­æ”¾äº†ã€‚</p>

<p>å…³äºåˆæˆéŸ³è§†é¢‘çš„åŸç†ï¼Œ
 æˆ‘çŒœæµ‹æ˜¯ https://gitlab.websupport.sk/peter.kovar/ffmpeg-mvc/commit/319440e54f47891a1ab27ffb73d783895f225fe8</p>

:ET